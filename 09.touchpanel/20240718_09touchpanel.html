<!DOCTYPE html><html><head>
      <title>20240718_09touchpanel</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="file:///c:\Users\sfujimoto\.vscode\extensions\shd101wyy.markdown-preview-enhanced-0.8.13\crossnote\dependencies\katex\katex.min.css">
      
      
      
      
      
      <style>
      code[class*=language-],pre[class*=language-]{color:#333;background:0 0;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.4;-moz-tab-size:8;-o-tab-size:8;tab-size:8;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:.8em;overflow:auto;border-radius:3px;background:#f5f5f5}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;background:#f5f5f5}.token.blockquote,.token.comment{color:#969896}.token.cdata{color:#183691}.token.doctype,.token.macro.property,.token.punctuation,.token.variable{color:#333}.token.builtin,.token.important,.token.keyword,.token.operator,.token.rule{color:#a71d5d}.token.attr-value,.token.regex,.token.string,.token.url{color:#183691}.token.atrule,.token.boolean,.token.code,.token.command,.token.constant,.token.entity,.token.number,.token.property,.token.symbol{color:#0086b3}.token.prolog,.token.selector,.token.tag{color:#63a35c}.token.attr-name,.token.class,.token.class-name,.token.function,.token.id,.token.namespace,.token.pseudo-class,.token.pseudo-element,.token.url-reference .token.variable{color:#795da3}.token.entity{cursor:help}.token.title,.token.title .token.punctuation{font-weight:700;color:#1d3e81}.token.list{color:#ed6a43}.token.inserted{background-color:#eaffea;color:#55a532}.token.deleted{background-color:#ffecec;color:#bd2c00}.token.bold{font-weight:700}.token.italic{font-style:italic}.language-json .token.property{color:#183691}.language-markup .token.tag .token.punctuation{color:#333}.language-css .token.function,code.language-css{color:#0086b3}.language-yaml .token.atrule{color:#63a35c}code.language-yaml{color:#183691}.language-ruby .token.function{color:#333}.language-markdown .token.url{color:#795da3}.language-makefile .token.symbol{color:#795da3}.language-makefile .token.variable{color:#183691}.language-makefile .token.builtin{color:#0086b3}.language-bash .token.keyword{color:#0086b3}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(to right,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f4f1ef;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}html body{font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ol,html body>ul{margin-bottom:16px}html body ol,html body ul{padding-left:2em}html body ol.no-list,html body ul.no-list{padding:0;list-style-type:none}html body ol ol,html body ol ul,html body ul ol,html body ul ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:700;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::after,html body code::before{letter-spacing:-.2em;content:'\00a0'}html body pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:0 0;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:after,html body pre code:before,html body pre tt:after,html body pre tt:before{content:normal}html body blockquote,html body dl,html body ol,html body p,html body pre,html body ul{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body code,html body pre{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview ul{list-style:disc}.markdown-preview ul ul{list-style:circle}.markdown-preview ul ul ul{list-style:square}.markdown-preview ol{list-style:decimal}.markdown-preview ol ol,.markdown-preview ul ol{list-style-type:lower-roman}.markdown-preview ol ol ol,.markdown-preview ol ul ol,.markdown-preview ul ol ol,.markdown-preview ul ul ol{list-style-type:lower-alpha}.markdown-preview .newpage,.markdown-preview .pagebreak{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center!important}.markdown-preview:not([data-for=preview]) .code-chunk .code-chunk-btn-group{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .status{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0;min-height:100vh}@media screen and (min-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{font-size:14px!important;padding:1em}}@media print{html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% - 300px);padding:2em calc(50% - 457px - 300px / 2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}@font-face{font-family:"Material Icons";font-style:normal;font-weight:400;src:local("Material Icons"),local("MaterialIcons-Regular"),url("data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAfIAAsAAAAADDAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADMAAABCsP6z7U9TLzIAAAE8AAAARAAAAFZW7kosY21hcAAAAYAAAADTAAACjtP6ytBnbHlmAAACVAAAAxgAAAQ4zRtvlGhlYWQAAAVsAAAALwAAADYRwZsnaGhlYQAABZwAAAAcAAAAJAeKAzxobXR4AAAFuAAAABIAAAA8OGQAAGxvY2EAAAXMAAAAIAAAACAG5AfwbWF4cAAABewAAAAfAAAAIAEfAERuYW1lAAAGDAAAAVcAAAKFkAhoC3Bvc3QAAAdkAAAAYgAAAK2vz7wkeJxjYGRgYOBikGPQYWB0cfMJYeBgYGGAAJAMY05meiJQDMoDyrGAaQ4gZoOIAgCKIwNPAHicY2BkPsQ4gYGVgYOpk+kMAwNDP4RmfM1gxMjBwMDEwMrMgBUEpLmmMDgwVLy4xKzzX4chhrmK4QpQmBEkBwAZygyweJzFkr0NwjAQhZ+TEP6CRUfHBEwRUWaQTICyQbpMwRCskA5RUIONxG0RnnNpKAIV4qzPku/8c353ACYAYrIjCWCuMAh2ptf0/hiL3p/gyPUWa3osqlt0L1zu9r71z8dGrJRykFoauXQd932Lj5vhG+MjxGeYI8MKETObMpslf5EyP8tg+vHun5r539PvlvXzaVhRFVQDTPEWKVQR90KhnnC5Ek67vUKN4VuFasM/ldARj43CCkCsEjpJSoVVgRyU0GVSK6wUpFFCx8lFgX0BiXpRPQB4nE2TTWjcRhTH3xttpDhxN7uxPlp3u/FK7moRPixafRijNosxSw/LUsIwNcaEHPZggo/FmEKMCKWU4kNOOftQSlhE8alnH0Ix9BqWnHooPRrTQ0+mnu2bXTu2pPdGM9LM/6c3fwECTM4gBBMYQNqxzLrZAjqYSlqu2TAHZQA0/DQJH6FtzqGDnvbt4Ggwvzw/nL8EfH8kW0fsuRqhgWXZnY7M1picaUL7Du5BHeDzMIl83dAt016wH1qmvtSMo5R6YRJHTR//FXsff/nj/tc/5K9P5d+nP22+fFK5u7v3K39SW3y+OtDKO3L85vD09PD9z5X17a2N1g4tqk01RlqX7gyoEmnsWQtVr4rtZMmukEaFBZxzefkCn11cyKMLZgshRwgTYNoLNXCBz2ja7HvZG7hDpPSNfoo5vs0knK/9hb+rNpu+8kHPgk/Ao4kK3tWtTpSEtvkA9c+wE6UaUdwieNkaHg55tBEtRiEPw1s0+FtrtTcc9two2lhMknV7PZF/cs6+uUFTmpTGbEx7sQCPSLOttHS3GRltqp7SNzVSKzl6aWnZT/CX5k6/v9N3Hh8fHBwffJVjhrC6OgH5dkIt/tPsq+d/PD5Qz7G7efzq1THFjdZVPe/N6ulQ3JnDWSE5junsFsVIiFwL/htf1S5gJ3BfOcUxfHKLnzqpFpyfZ9cX+/5WB6a+Y0pHpzkNrYNVDwMsikK+y7WuLCRg/oFHkA8VT3rDg5ZnU6ktzzINymV0m74Xd5pfIGXyFeVEQSShkzqG7TBBa2OxVRKitLXv7h3uuftXnXq7lz2tZ/WnWa9dx9dCjDhHzmuVQATlmljr9dZErUydSo2Hbi/b1vXtrOeGCk2/8s3ZlO8+ueJT8BVlw5pGw2oYccdSiHHqx0RlabHqdNR9jAETl6PreJcPBnnfpTLnOQ8C3OV8AmQGzouV1iZdeb5SSIoVc8W8/kcDtksUH5FrU6/aqBqNWcMEzxG4DAQ14qRQhi9mWU0rzepKezbjfgCwQKxVYq5ajRgpRqy45CqwkJydcEkbTkvRz8P5/2ZpDTN4nGNgZGBgAOKb6v+/xvPbfGXgZmEAgeuB2kkI+v8bFgbmKiCXg4EJJAoAPyAKhQB4nGNgZGBg1vmvwxDDwgACQJKRARXwAwAzZQHQeJxjYQCCFAYGFgbSMQAcWACdAAAAAAAAAAwALgBgAIQAmADSAQgBIgE8AVABoAHeAfwCHHicY2BkYGDgZ7BgYGMAASYg5gJCBob/YD4DAA/hAWQAeJxlkbtuwkAURMc88gApQomUJoq0TdIQzEOpUDokKCNR0BuzBiO/tF6QSJcPyHflE9Klyyekz2CuG8cr7547M3d9JQO4xjccnJ57vid2cMHqxDWc40G4Tv1JuEF+Fm6ijRfhM+oz4Ra6eBVu4wZvvMFpXLIa40PYQQefwjVc4Uu4Tv1HuEH+FW7i1mkKn6Hj3Am3sHC6wm08Ou8tpSZGe1av1PKggjSxPd8zJtSGTuinyVGa6/Uu8kxZludCmzxMEzV0B6U004k25W35fj2yNlCBSWM1paujKFWZSbfat+7G2mzc7weiu34aczzFNYGBhgfLfcV6iQP3ACkSaj349AxXSN9IT0j16JepOb01doiKbNWt1ovippz6sVYYwsXgX2rGVFIkq7Pl2PNrI6qW6eOshj0xaSq9mpNEZIWs8LZUfOouNkVXxp/d5woqebeYIf4D2J1ywQB4nG3LOw6AIBAE0B384B+PAkgEa+QwNnYmHt+EpXSal5lkSBBnoP8oCFSo0aCFRIceA0ZMmLFAYSW88rmvtMUjG3RiQ9HvpfusM6zWNmtc5H/iPewha50tOt5PS/QBx2IeSwAA") format("woff")}.admonition{box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2);position:relative;margin:1.5625em 0;padding:0 1.2rem;border-left:.4rem solid rgba(68,138,255,.8);border-radius:.2rem;background-color:rgba(255,255,255,.05);overflow:auto}.admonition>p{margin-top:.8rem}.admonition>.admonition-title{margin:0 -1.2rem;padding:.8rem 1.2rem .8rem 3.6rem;border-bottom:1px solid rgba(68,138,255,.2);background-color:rgba(68,138,255,.1);font-weight:700}.admonition>.admonition-title:before{position:absolute;left:1.2rem;font-size:1.5rem;color:rgba(68,138,255,.8);content:"\E3C9"}.admonition>.admonition-title:before{font-family:Material Icons;font-style:normal;font-variant:normal;font-weight:400;line-height:2rem;text-transform:none;white-space:nowrap;speak:none;word-wrap:normal;direction:ltr}.admonition.abstract,.admonition.summary,.admonition.tldr{border-left-color:rgba(0,176,255,.8)}.admonition.abstract>.admonition-title,.admonition.summary>.admonition-title,.admonition.tldr>.admonition-title{background-color:rgba(0,176,255,.1);border-bottom-color:rgba(0,176,255,.2)}.admonition.abstract>.admonition-title:before,.admonition.summary>.admonition-title:before,.admonition.tldr>.admonition-title:before{color:#00b0ff;content:"\E8D2"}.admonition.hint,.admonition.tip{border-left-color:rgba(0,191,165,.8)}.admonition.hint>.admonition-title,.admonition.tip>.admonition-title{background-color:rgba(0,191,165,.1);border-bottom-color:rgba(0,191,165,.2)}.admonition.hint>.admonition-title:before,.admonition.tip>.admonition-title:before{color:#00bfa5;content:"\E80E"}.admonition.info,.admonition.todo{border-left-color:rgba(0,184,212,.8)}.admonition.info>.admonition-title,.admonition.todo>.admonition-title{background-color:rgba(0,184,212,.1);border-bottom-color:rgba(0,184,212,.2)}.admonition.info>.admonition-title:before,.admonition.todo>.admonition-title:before{color:#00b8d4;content:"\E88E"}.admonition.check,.admonition.done,.admonition.success{border-left-color:rgba(0,200,83,.8)}.admonition.check>.admonition-title,.admonition.done>.admonition-title,.admonition.success>.admonition-title{background-color:rgba(0,200,83,.1);border-bottom-color:rgba(0,200,83,.2)}.admonition.check>.admonition-title:before,.admonition.done>.admonition-title:before,.admonition.success>.admonition-title:before{color:#00c853;content:"\E876"}.admonition.faq,.admonition.help,.admonition.question{border-left-color:rgba(100,221,23,.8)}.admonition.faq>.admonition-title,.admonition.help>.admonition-title,.admonition.question>.admonition-title{background-color:rgba(100,221,23,.1);border-bottom-color:rgba(100,221,23,.2)}.admonition.faq>.admonition-title:before,.admonition.help>.admonition-title:before,.admonition.question>.admonition-title:before{color:#64dd17;content:"\E887"}.admonition.attention,.admonition.caution,.admonition.warning{border-left-color:rgba(255,145,0,.8)}.admonition.attention>.admonition-title,.admonition.caution>.admonition-title,.admonition.warning>.admonition-title{background-color:rgba(255,145,0,.1);border-bottom-color:rgba(255,145,0,.2)}.admonition.attention>.admonition-title:before{color:#ff9100;content:"\E417"}.admonition.caution>.admonition-title:before,.admonition.warning>.admonition-title:before{color:#ff9100;content:"\E002"}.admonition.fail,.admonition.failure,.admonition.missing{border-left-color:rgba(255,82,82,.8)}.admonition.fail>.admonition-title,.admonition.failure>.admonition-title,.admonition.missing>.admonition-title{background-color:rgba(255,82,82,.1);border-bottom-color:rgba(255,82,82,.2)}.admonition.fail>.admonition-title:before,.admonition.failure>.admonition-title:before,.admonition.missing>.admonition-title:before{color:#ff5252;content:"\E14C"}.admonition.bug,.admonition.danger,.admonition.error{border-left-color:rgba(255,23,68,.8)}.admonition.bug>.admonition-title,.admonition.danger>.admonition-title,.admonition.error>.admonition-title{background-color:rgba(255,23,68,.1);border-bottom-color:rgba(255,23,68,.2)}.admonition.danger>.admonition-title:before{color:#ff1744;content:"\E3E7"}.admonition.error>.admonition-title:before{color:#ff1744;content:"\E14C"}.admonition.bug>.admonition-title:before{color:#ff1744;content:"\E868"}.admonition.example,.admonition.snippet{border-left-color:rgba(0,184,212,.8)}.admonition.example>.admonition-title,.admonition.snippet>.admonition-title{background-color:rgba(0,184,212,.1);border-bottom-color:rgba(0,184,212,.2)}.admonition.example>.admonition-title:before,.admonition.snippet>.admonition-title:before{color:#00b8d4;content:"\E242"}.admonition.cite,.admonition.quote{border-left-color:rgba(158,158,158,.8)}.admonition.cite>.admonition-title,.admonition.quote>.admonition-title{background-color:rgba(158,158,158,.1);border-bottom-color:rgba(158,158,158,.2)}.admonition.cite>.admonition-title:before,.admonition.quote>.admonition-title:before{color:#9e9e9e;content:"\E244"}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */
body {
  counter-reset: chapter;
}
h1 {
  counter-reset: sub-chapter;
}
h2 {
  counter-reset: section;
}
h3 {
  counter-reset: sub-section;
}
h4 {
  counter-reset: sub-sub-section;
}
div.TOC ul {
  counter-reset: section;
}
.markdown-preview.markdown-preview h1 {
  background: #dfefff;
  box-shadow: 0px 0px 0px 5px #dfefff;
  border: dashed 2px white;
  padding: 0.2em 0.5em;
}
.markdown-preview.markdown-preview h2 {
  position: relative;
  padding: 0.6em;
  background: #e0edff;
}
.markdown-preview.markdown-preview h2:after {
  position: absolute;
  content: '';
  top: 100%;
  left: 30px;
  border: 15px solid transparent;
  border-top: 15px solid #e0edff;
  width: 0;
  height: 0;
}
.markdown-preview.markdown-preview h3 {
  background: linear-gradient(transparent 70%, #a7d6ff 70%);
}
.markdown-preview.markdown-preview h4 {
  border-bottom: solid 3px #cce4ff;
  position: relative;
}
.markdown-preview.markdown-preview h4:after {
  position: absolute;
  content: " ";
  display: block;
  border-bottom: solid 3px #5472cd;
  bottom: -3px;
  width: 20%;
}
.markdown-preview.markdown-preview h5 {
  border-bottom: solid 3px black;
}
.markdown-preview.markdown-preview h1::before {
  counter-increment: chapter;
  content: counter(chapter) ". ";
}
.markdown-preview.markdown-preview h2::before {
  counter-increment: sub-chapter;
  content: counter(chapter) "." counter(sub-chapter) ". ";
}
.markdown-preview.markdown-preview h3::before {
  counter-increment: section;
  content: counter(chapter) "." counter(sub-chapter) "." counter(section) ". ";
}
.markdown-preview.markdown-preview h4::before {
  counter-increment: sub-section;
}
.markdown-preview.markdown-preview h5::before {
  counter-increment: sub-sub-section;
}
.markdown-preview.markdown-preview div.TOC li {
  list-style: none;
}
.markdown-preview.markdown-preview div.TOC ul > li:before {
  counter-increment: section;
  content: counters(section, '.') '. ';
}

      </style>
      <!-- The content below will be included at the end of the <head> element. --><script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function () {
    // your code here
  });
</script></head><body for="html-export">
    
    
      <div class="crossnote markdown-preview  ">
      
<h1 id="09touchpanel">09.touchpanel </h1>
<p><a href="">2024/7/18 Table of Contents</a></p>
<div class="TOC">
<div class="code-chunk" data-id="code-chunk-id-0" data-cmd="toc"><div class="input-div"><div class="code-chunk-btn-group"><div class="run-btn btn btn-xs btn-primary"><span>▶︎</span></div><div class="run-all-btn btn btn-xs btn-primary">all</div></div><div class="status">running...</div></div><div class="output-div"></div></div><ol>
<li><a href="#09touchpanel">09.touchpanel</a>
<ol>
<li><a href="#%E7%9B%AE%E7%9A%84">目的</a></li>
<li><a href="#%E6%A7%8B%E6%88%90%E3%83%87%E3%83%BC%E3%82%BF">構成データ</a></li>
<li><a href="#%E3%82%BF%E3%83%83%E3%83%81%E3%83%91%E3%83%8D%E3%83%AB%E5%88%B6%E5%BE%A1">タッチパネル制御</a></li>
<li><a href="#%E4%BE%8B%E9%A1%8C-tpevent">例題 tpevent</a></li>
<li><a href="#tslib">tslib</a></li>
<li><a href="#%E8%AA%B2%E9%A1%8C1-tpevent2">課題1 tpevent2</a></li>
<li><a href="#%E8%AA%B2%E9%A1%8C2-tpstamp">課題2 tpstamp</a></li>
</ol>
</li>
</ol>
</div>
<div style="page-break-before:always"></div>  <!-- PDFで改ページ-->
<h2 id="目的">目的 </h2>
<p>組込みアプリケーション開発 09.touchpanel</p>
<h2 id="構成データ">構成データ </h2>
<h3 id="mediasf_armadillox1hwpwmworkr06_2024apllication_debugtextpractice-ディレクトリ">/media/sf_ArmadilloX1/hwpwm/work/R06_2024/Apllication_debug/text/practice ディレクトリ </h3>
<details open=""><summary> ･･･/share/ArmadilloX1/hwpwm/<span style="color: red">work</span>/R06_2024/Application<span style="color: red">_debug</span>/<span style="color: red">text</span>/practice/ の構成</summary>
<pre data-role="codeBlock" data-info="bash{.line-numbers}" class="language-bash bash line-numbers"><code>user@1204PC-Z490M:/mnt/v/VirtualBoxWork/share/ArmadilloX1/hwpwm/work/R06_2024/Application_debug/text/practice$ tree <span class="token parameter variable">-aF</span> <span class="token parameter variable">-L</span> <span class="token number">3</span>
./
├── 09.touchpanel/
│   ├── Makefile*               <span class="token operator">&lt;</span>───── デバイス制御用Makefile
│   ├── stamp.bmp*              <span class="token operator">&lt;</span>───── 課題2用ビットマップファイル
│   ├── tpevent2.c*             <span class="token operator">&lt;</span>───── 課題1 デバイス制御用ソース
│   ├── tpevent.c*              <span class="token operator">&lt;</span>───── 例題 デバイス制御用ソース
│   └── tpstamp.c*              <span class="token operator">&lt;</span>───── 課題1 デバイス制御用ソース
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></details>
<h2 id="タッチパネル制御">タッチパネル制御 </h2>
<h3 id="デバイス仕様">デバイス仕様 </h3>
<ul>
<li>タッチもしくはリリース</li>
<li>タッチ位置の座標</li>
</ul>
<p><img src="assets/touchpanel.png" alt="alt text"></p>
<h3 id="デバイスファイル">デバイスファイル </h3>
<h6 id="devinputevent1">"/dev/input/event1" </h6>
<div class="admonition warning">
<p class="admonition-title">ボタンスイッチ、センサなど複数の入力デバイスがある場合、ソースファイル内ではデバイスファイル/dev/input/event1 を<span style="color: red">決め打ち</span>しているので注意すること</p>
</div>
<h3 id="イベント">イベント </h3>
<p>読み出したイベントデータは次のinput_event構造体の形で表示</p>
<details open=""><summary> input_event構造体 </summary>
<pre data-role="codeBlock" data-info="c{.line-numbers}" class="language-c c line-numbers"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;linux/input.h&gt;</span></span>

<span class="token keyword keyword-struct">struct</span> <span class="token class-name">input_event</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-struct">struct</span> <span class="token class-name">timeval</span> time<span class="token punctuation">;</span>
  __u16 type<span class="token punctuation">;</span>
  __u16 code<span class="token punctuation">;</span>
  __s32 value<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></details>
<table>
<thead>
<tr>
<th>Type</th>
<th>code</th>
<th>value</th>
</tr>
</thead>
<tbody>
<tr>
<td>0(EV_SYN)</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td rowspan="2">1(EV_KEY)</td>
<td rowspan="2">330(BTN_TOUCH)</td>
<td>1(touch)</td>
</tr>
<tr>


<td>0(release)</td>
</tr>
<tr>
<td rowspan="7">3(EV_ABS)</td>
<td>0(ABS_X)</td>
<td rowspan="2">X:0-10000</td>
</tr>
<tr>

<td>53(ABS_MT_POSITION_X)</td>

</tr>
<tr>

<td>1(ABS_Y)</td>
<td rowspan="2">Y:0-10000</td>
</tr>
<tr>

<td>54(ABS_MT_POSITION_Y)</td>

</tr>
<tr>

<td rowspan="2">57(ABS_MT_TRACKING_ID)</td>
<td>0-65535</td>
</tr>
<tr>


<td>-1</td>
</tr>
<tr>

<td>47(ABS_MT_SLOT)</td>
<td>0-9</td>
</tr>
</tbody>
</table>
<ul>
<li>EV_KEYは、タッチまたはリリースイベント</li>
<li>イベントの種類はvalueで判別</li>
<li>EV_ABSは、座標更新イベント</li>
<li>ABS_X, ABS_MT_POSITION_Xは、X座標</li>
<li>ABS_Y, ABS_MT_POSITION_Yは、Y座標</li>
<li>ABS_MT_TRACKING_ID, ABS_MT_SLOTは、マルチタッチ（実習では使用しない）</li>
<li>EV_SYN（同期）は、一連のイベントの終わり</li>
</ul>
<h2 id="例題-tpevent">例題 tpevent </h2>
<p>タッチパネルイベントを表示する</p>
<table>
<thead>
<tr>
<th>イベント</th>
<th>表示する文字列</th>
<th>備考</th>
</tr>
</thead>
<tbody>
<tr>
<td>タッチパネル押す</td>
<td colspan="2">”EV_KEY: down”</td>

</tr>
<tr>
<td>タッチパネル離す</td>
<td colspan="2">”EV_KEY: up”</td>

</tr>
<tr>
<td rowspan="2">X座標更新</td>
<td>”EV_ABS: x = xxx”</td>
<td rowspan="2">xxx は座標</td>
</tr>
<tr>

<td>”ABS_MT_POSITION: x = xxx”</td>

</tr>
<tr>
<td rowspan="2">Y座標更新</td>
<td>”EV_ABS: y = yyy”</td>
<td rowspan="2">yyy は座標</td>
</tr>
<tr>

<td>”ABS_MT_POSITION_Y: y = yyy”</td>

</tr>
<tr>
<td>同期イベント</td>
<td colspan="2">“EV_SYN: -------------“</td>

</tr>
</tbody>
</table>
<p>※イベントコードABS_MT_TRACKING_ID, ABS_MT_SLOTが発生した場合は無視</p>
<h5 id="表示例">表示例 </h5>
<details open=""><summary> root@armadillo:/practice/09.touchpanel# ./tpevent </summary>
<pre data-role="codeBlock" data-info="bash{.line-numbers}" class="language-bash bash line-numbers"><code>root@armadillo:/practice/09.touchpanel<span class="token comment"># ./tpevent</span>
ABS_MT_POSITION: x <span class="token operator">=</span> <span class="token number">1159</span>
ABS_MT_POSITION: y <span class="token operator">=</span> <span class="token number">1826</span>
EV_KEY: down
EV_ABS: x <span class="token operator">=</span> <span class="token number">1159</span>
EV_ABS: y <span class="token operator">=</span> <span class="token number">1826</span>
EV_SYN: -----------------
EV_KEY: up
EV_SYN: ----------------
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></details>
<h3 id="ソース">ソース </h3>
<h4 id="tpeventc">tpevent.c </h4>
<details open=""><summary> 09.touchpanel/tpevent.c </summary>
<pre data-role="codeBlock" data-info="c{.line-numbers}" class="language-c c line-numbers"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;fcntl.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;linux/input.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h&gt;</span></span>

<span class="token comment">// イベントデバイスファイル。</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span>	<span class="token macro-name">DEVFILE</span>	<span class="token string">"/dev/input/event1"</span></span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword keyword-int">int</span> fd<span class="token punctuation">;</span>
	<span class="token keyword keyword-int">int</span> ret<span class="token punctuation">;</span>
	<span class="token keyword keyword-struct">struct</span> <span class="token class-name">input_event</span> ev<span class="token punctuation">;</span>

	<span class="token comment">// イベントデバイスファイルをオープンします。</span>
	fd <span class="token operator">=</span> <span class="token function">open</span><span class="token punctuation">(</span>DEVFILE<span class="token punctuation">,</span> O_RDONLY<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// ファイルがオープンできなかった場合、エラー終了します。</span>
	<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>fd <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"failed to open device"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword keyword-return">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// イベント内容を表示する処理。</span>
	<span class="token keyword keyword-for">for</span><span class="token punctuation">(</span><span class="token punctuation">;</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token comment">// 入力イベント構造体を読み込みます。</span>
		ret <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span>fd<span class="token punctuation">,</span> <span class="token operator">&amp;</span>ev<span class="token punctuation">,</span> <span class="token keyword keyword-sizeof">sizeof</span><span class="token punctuation">(</span>ev<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 読み込みに失敗した場合、エラー終了します。</span>
		<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>ret <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"failed to read events"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword keyword-return">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// イベントのタイプで表示内容を変化させます。</span>
		<span class="token keyword keyword-switch">switch</span> <span class="token punctuation">(</span>ev<span class="token punctuation">.</span>type<span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token comment">// タイプがEV_KEYの時の処理。</span>
		<span class="token keyword keyword-case">case</span> EV_KEY<span class="token operator">:</span>
			<span class="token comment">// コードがBTN_TOUCHなら状態を表示します。それ以外の場合、エラー終了します。</span>
			<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>ev<span class="token punctuation">.</span>code <span class="token operator">!=</span> BTN_TOUCH<span class="token punctuation">)</span><span class="token punctuation">{</span>
				<span class="token function">fprintf</span><span class="token punctuation">(</span><span class="token constant">stderr</span><span class="token punctuation">,</span> <span class="token string">"unknown event code %d\n"</span><span class="token punctuation">,</span> ev<span class="token punctuation">.</span>code<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword keyword-return">return</span> <span class="token number">2</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"EV_KEY: %s\n"</span><span class="token punctuation">,</span> ev<span class="token punctuation">.</span>value <span class="token operator">?</span> <span class="token string">"down"</span> <span class="token operator">:</span> <span class="token string">"up"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword keyword-break">break</span><span class="token punctuation">;</span>
		<span class="token comment">// タイプがEV_ABSの時の処理。</span>
		<span class="token keyword keyword-case">case</span> EV_ABS<span class="token operator">:</span>
			<span class="token keyword keyword-switch">switch</span> <span class="token punctuation">(</span>ev<span class="token punctuation">.</span>code<span class="token punctuation">)</span><span class="token punctuation">{</span>
			<span class="token comment">// コードがABS_Xならxの値を表示します。</span>
			<span class="token keyword keyword-case">case</span> ABS_X<span class="token operator">:</span>
				<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"EV_ABS: x = %d\n"</span><span class="token punctuation">,</span> ev<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword keyword-break">break</span><span class="token punctuation">;</span>
			<span class="token comment">// コードがABS_MT_POSITION_Xならxの値を表示します。</span>
			<span class="token keyword keyword-case">case</span> ABS_MT_POSITION_X<span class="token operator">:</span>
				<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"ABS_MT_POSITION: x = %d\n"</span><span class="token punctuation">,</span> ev<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword keyword-break">break</span><span class="token punctuation">;</span>
			<span class="token comment">// コードがABS_Yならyの値を表示します。</span>
			<span class="token keyword keyword-case">case</span> ABS_Y<span class="token operator">:</span>
				<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"EV_ABS: y = %d\n"</span><span class="token punctuation">,</span> ev<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword keyword-break">break</span><span class="token punctuation">;</span>
			<span class="token comment">// コードがABS_MT_POSITION_Yならyの値を表示します。</span>
			<span class="token keyword keyword-case">case</span> ABS_MT_POSITION_Y<span class="token operator">:</span>
				<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"ABS_MT_POSITION: y = %d\n"</span><span class="token punctuation">,</span> ev<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword keyword-break">break</span><span class="token punctuation">;</span>
			<span class="token comment">// コードがABS_MT_TRACKING_IDなら無視します。</span>
			<span class="token keyword keyword-case">case</span> ABS_MT_TRACKING_ID<span class="token operator">:</span>
				<span class="token keyword keyword-break">break</span><span class="token punctuation">;</span>
			<span class="token comment">// コードがABS_MT_SLOTなら無視します。</span>
			<span class="token keyword keyword-case">case</span> ABS_MT_SLOT<span class="token operator">:</span>
				<span class="token keyword keyword-break">break</span><span class="token punctuation">;</span>
			<span class="token comment">// コードが上記以外の場合、エラー終了します。</span>
			<span class="token keyword keyword-default">default</span><span class="token operator">:</span>
				<span class="token function">fprintf</span><span class="token punctuation">(</span><span class="token constant">stderr</span><span class="token punctuation">,</span> <span class="token string">"unknown event code %d\n"</span><span class="token punctuation">,</span> ev<span class="token punctuation">.</span>code<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword keyword-return">return</span> <span class="token number">2</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword keyword-break">break</span><span class="token punctuation">;</span>
		<span class="token comment">// タイプがEV_SYNの時の処理。</span>
		<span class="token keyword keyword-case">case</span> EV_SYN<span class="token operator">:</span>
			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"EV_SYN: -----------------\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword keyword-break">break</span><span class="token punctuation">;</span>
		<span class="token comment">// タイプが上記以外なら、エラー終了します。</span>
		<span class="token keyword keyword-default">default</span><span class="token operator">:</span>
			<span class="token function">fprintf</span><span class="token punctuation">(</span><span class="token constant">stderr</span><span class="token punctuation">,</span> <span class="token string">"unknown event\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword keyword-return">return</span> <span class="token number">3</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// イベントデバイスファイルをクローズします。</span>
	<span class="token function">close</span><span class="token punctuation">(</span>fd<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></details>
<h4 id="makefile">Makefile </h4>
<details open=""><summary> 09.touchpanel/Makefile </summary>
<pre data-role="codeBlock" data-info="bash{.line-numbers}" class="language-bash bash line-numbers"><code>CC <span class="token operator">=</span> arm-linux-gnueabihf-gcc
<span class="token comment">#TARGET = tpevent tpevent2 tpstamp</span>
TARGET <span class="token operator">=</span> tpevent
CFLAGS <span class="token operator">=</span> -I/work/linux/nfsroot/usr/local/include -gdwarf-2 <span class="token parameter variable">-O0</span>
LDFLAGS <span class="token operator">=</span> -L/work/linux/nfsroot/usr/local/lib
LIBS <span class="token operator">=</span> <span class="token parameter variable">-lts</span>

all: <span class="token variable"><span class="token variable">$(</span>TARGET<span class="token variable">)</span></span>

tpevent: tpevent.c
	<span class="token variable"><span class="token variable">$(</span>CC<span class="token variable">)</span></span> <span class="token parameter variable">-o</span> <span class="token variable">$@</span> $^ <span class="token variable"><span class="token variable">$(</span>CFLAGS<span class="token variable">)</span></span> <span class="token variable"><span class="token variable">$(</span>LDFLAGS<span class="token variable">)</span></span> <span class="token variable"><span class="token variable">$(</span>LIBS<span class="token variable">)</span></span>

tpevent2: tpevent2.c
	<span class="token variable"><span class="token variable">$(</span>CC<span class="token variable">)</span></span> <span class="token parameter variable">-o</span> <span class="token variable">$@</span> $^ <span class="token variable"><span class="token variable">$(</span>CFLAGS<span class="token variable">)</span></span> <span class="token variable"><span class="token variable">$(</span>LDFLAGS<span class="token variable">)</span></span> <span class="token variable"><span class="token variable">$(</span>LIBS<span class="token variable">)</span></span>

tpstamp: tpstamp.c
	<span class="token variable"><span class="token variable">$(</span>CC<span class="token variable">)</span></span> <span class="token parameter variable">-o</span> <span class="token variable">$@</span> $^ <span class="token variable"><span class="token variable">$(</span>CFLAGS<span class="token variable">)</span></span> <span class="token variable"><span class="token variable">$(</span>LDFLAGS<span class="token variable">)</span></span> <span class="token variable"><span class="token variable">$(</span>LIBS<span class="token variable">)</span></span>

<span class="token function">install</span> <span class="token builtin class-name">:</span>
	<span class="token function">cp</span> <span class="token parameter variable">-p</span> <span class="token variable"><span class="token variable">$(</span>TARGET<span class="token variable">)</span></span>   /work/linux/nfsroot/debug/04_practice
	<span class="token function">cp</span> <span class="token parameter variable">-p</span> <span class="token variable"><span class="token variable">$(</span>TARGET<span class="token variable">)</span></span>   /media/sf_ArmadilloX1/hwpwm/dbg/debug_share_hwpwm/R06_2024/04_practice
	<span class="token function">cp</span> <span class="token parameter variable">-p</span> <span class="token variable"><span class="token variable">$(</span>TARGET<span class="token variable">)</span></span>.c /media/sf_ArmadilloX1/hwpwm/dbg/debug_share_hwpwm/R06_2024/04_practice
	<span class="token function">cp</span> <span class="token parameter variable">-p</span> ./*.bmp     /work/linux/nfsroot/debug/04_practice
	<span class="token function">cp</span> <span class="token parameter variable">-p</span> ./*.bmp     /media/sf_ArmadilloX1/hwpwm/dbg/debug_share_hwpwm/R06_2024/04_practice

clean:
	<span class="token function">rm</span> <span class="token parameter variable">-f</span> <span class="token variable"><span class="token variable">$(</span>TARGET<span class="token variable">)</span></span>

.PHONY: clean

</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></details>
<h3 id="動作確認">動作確認 </h3>
<h4 id="make-clean">make clean </h4>
<details open=""><summary> $ make clean </summary>
<pre data-role="codeBlock" data-info="bash{.line-numbers}" class="language-bash bash line-numbers"><code>atmark@atde8:/media/sf_ArmadilloX1/hwpwm/work/R06_2024/Application_debug/text/practice-example/09.touchpanel$ <span class="token function">make</span> clean
<span class="token function">rm</span> <span class="token parameter variable">-f</span> tpevent
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></pre></details>
<h4 id="make">make </h4>
<details open=""><summary> $ make </summary>
<pre data-role="codeBlock" data-info="bash{.line-numbers}" class="language-bash bash line-numbers"><code>atmark@atde8:/media/sf_ArmadilloX1/hwpwm/work/R06_2024/Application_debug/text/practice-example/09.touchpanel$ <span class="token function">make</span>
arm-linux-gnueabihf-gcc <span class="token parameter variable">-o</span> tpevent tpevent.c -I/work/linux/nfsroot/usr/local/include -gdwarf-2 <span class="token parameter variable">-O0</span> -L/work/linux/nfsroot/usr/local/lib <span class="token parameter variable">-lts</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></pre></details>
<h4 id="sudo-make-install">sudo make install </h4>
<details open=""><summary> $ sudo make install </summary>
<pre data-role="codeBlock" data-info="bash{.line-numbers}" class="language-bash bash line-numbers"><code>atmark@atde8:/media/sf_ArmadilloX1/hwpwm/work/R06_2024/Application_debug/text/practice-example/09.touchpanel$ <span class="token function">sudo</span> <span class="token function">make</span> <span class="token function">install</span>
<span class="token punctuation">[</span>sudo<span class="token punctuation">]</span> atmark のパスワード:
<span class="token function">cp</span> <span class="token parameter variable">-p</span> tpevent   /work/linux/nfsroot/debug/04_practice
<span class="token function">cp</span> <span class="token parameter variable">-p</span> tpevent   /media/sf_ArmadilloX1/hwpwm/dbg/debug_share_hwpwm/R06_2024/04_practice
<span class="token function">cp</span> <span class="token parameter variable">-p</span> tpevent.c /media/sf_ArmadilloX1/hwpwm/dbg/debug_share_hwpwm/R06_2024/04_practice
<span class="token function">cp</span> <span class="token parameter variable">-p</span> ./*.bmp     /work/linux/nfsroot/debug/04_practice
<span class="token function">cp</span> <span class="token parameter variable">-p</span> ./*.bmp     /media/sf_ArmadilloX1/hwpwm/dbg/debug_share_hwpwm/R06_2024/04_practice
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></details>
<h4 id="csideでロード">CSIDEでロード </h4>
<details open=""><summary> メニュー「ファイル」-「ロード」</summary>
<p><img src="assets/2024-07-11_20-32-22.png" alt="alt text"></p>
</details>
<h4 id="実行結果">実行結果 </h4>
<details open=""><summary> root@armadillo:/debug/04_practice# ./tpevent </summary>
<pre data-role="codeBlock" data-info="bash{.line-numbers}" class="language-bash bash line-numbers"><code>root@armadillo:/debug/04_practice<span class="token comment"># ./tpevent</span>
ABS_MT_POSITION: x <span class="token operator">=</span> <span class="token number">0</span>
ABS_MT_POSITION: y <span class="token operator">=</span> <span class="token number">0</span>
EV_KEY: down
EV_ABS: x <span class="token operator">=</span> <span class="token number">0</span>
EV_ABS: y <span class="token operator">=</span> <span class="token number">0</span>
EV_SYN: -----------------
EV_KEY: up
EV_SYN: -----------------
ABS_MT_POSITION: x <span class="token operator">=</span> <span class="token number">9963</span>
ABS_MT_POSITION: y <span class="token operator">=</span> <span class="token number">36</span>
EV_KEY: down
EV_ABS: x <span class="token operator">=</span> <span class="token number">9963</span>
EV_ABS: y <span class="token operator">=</span> <span class="token number">36</span>
EV_SYN: -----------------
EV_KEY: up
EV_SYN: -----------------
ABS_MT_POSITION: x <span class="token operator">=</span> <span class="token number">36</span>
ABS_MT_POSITION: y <span class="token operator">=</span> <span class="token number">9963</span>
EV_KEY: down
EV_ABS: x <span class="token operator">=</span> <span class="token number">36</span>
EV_ABS: y <span class="token operator">=</span> <span class="token number">9963</span>
EV_SYN: -----------------
EV_KEY: up
EV_SYN: -----------------
ABS_MT_POSITION: x <span class="token operator">=</span> <span class="token number">10000</span>
ABS_MT_POSITION: y <span class="token operator">=</span> <span class="token number">10000</span>
EV_KEY: down
EV_ABS: x <span class="token operator">=</span> <span class="token number">10000</span>
EV_ABS: y <span class="token operator">=</span> <span class="token number">10000</span>
EV_SYN: -----------------
EV_KEY: up
EV_SYN: -----------------
ABS_MT_POSITION: x <span class="token operator">=</span> <span class="token number">5369</span>
ABS_MT_POSITION: y <span class="token operator">=</span> <span class="token number">4224</span>
EV_KEY: down
EV_ABS: x <span class="token operator">=</span> <span class="token number">5369</span>
EV_ABS: y <span class="token operator">=</span> <span class="token number">4224</span>
EV_SYN: -----------------
EV_KEY: up
EV_SYN: -----------------
ABS_MT_POSITION: x <span class="token operator">=</span> <span class="token number">5548</span>
ABS_MT_POSITION: y <span class="token operator">=</span> <span class="token number">36</span>
EV_KEY: down
EV_ABS: x <span class="token operator">=</span> <span class="token number">5548</span>
EV_ABS: y <span class="token operator">=</span> <span class="token number">36</span>
EV_SYN: -----------------
EV_KEY: up
EV_SYN: -----------------
ABS_MT_POSITION: x <span class="token operator">=</span> <span class="token number">19</span>
ABS_MT_POSITION: y <span class="token operator">=</span> <span class="token number">5079</span>
EV_KEY: down
EV_ABS: x <span class="token operator">=</span> <span class="token number">19</span>
EV_ABS: y <span class="token operator">=</span> <span class="token number">5079</span>
EV_SYN: -----------------
EV_KEY: up
EV_SYN: -----------------
ABS_MT_POSITION: x <span class="token operator">=</span> <span class="token number">9975</span>
ABS_MT_POSITION: y <span class="token operator">=</span> <span class="token number">4842</span>
EV_KEY: down
EV_ABS: x <span class="token operator">=</span> <span class="token number">9975</span>
EV_ABS: y <span class="token operator">=</span> <span class="token number">4842</span>
EV_SYN: -----------------
EV_KEY: up
EV_SYN: -----------------
ABS_MT_POSITION: x <span class="token operator">=</span> <span class="token number">4957</span>
ABS_MT_POSITION: y <span class="token operator">=</span> <span class="token number">9460</span>
EV_KEY: down
EV_ABS: x <span class="token operator">=</span> <span class="token number">4957</span>
EV_ABS: y <span class="token operator">=</span> <span class="token number">9460</span>
EV_SYN: -----------------
EV_KEY: up
EV_SYN: -----------------
ABS_MT_POSITION: x <span class="token operator">=</span> <span class="token number">0</span>
ABS_MT_POSITION: y <span class="token operator">=</span> <span class="token number">0</span>
EV_KEY: down
EV_ABS: x <span class="token operator">=</span> <span class="token number">0</span>
EV_ABS: y <span class="token operator">=</span> <span class="token number">0</span>
EV_SYN: -----------------
EV_KEY: up
EV_SYN: -----------------
ABS_MT_POSITION: x <span class="token operator">=</span> <span class="token number">9963</span>
ABS_MT_POSITION: y <span class="token operator">=</span> <span class="token number">36</span>
EV_KEY: down
EV_ABS: x <span class="token operator">=</span> <span class="token number">9963</span>
EV_ABS: y <span class="token operator">=</span> <span class="token number">36</span>
EV_SYN: -----------------
EV_KEY: up
EV_SYN: -----------------
EV_KEY: down
EV_SYN: -----------------
EV_KEY: up
EV_SYN: -----------------
EV_KEY: down
EV_SYN: -----------------
EV_KEY: up
EV_SYN: -----------------
EV_KEY: down
EV_SYN: -----------------
EV_KEY: up
EV_SYN: -----------------
EV_KEY: down
EV_SYN: -----------------
EV_KEY: up
EV_SYN: -----------------
EV_KEY: down
EV_SYN: -----------------
EV_KEY: up
EV_SYN: -----------------
ABS_MT_POSITION: x <span class="token operator">=</span> <span class="token number">9431</span>
ABS_MT_POSITION: y <span class="token operator">=</span> <span class="token number">539</span>
EV_KEY: down
EV_ABS: x <span class="token operator">=</span> <span class="token number">9431</span>
EV_ABS: y <span class="token operator">=</span> <span class="token number">539</span>
EV_SYN: -----------------
EV_KEY: up
EV_SYN: -----------------
ABS_MT_POSITION: x <span class="token operator">=</span> <span class="token number">9963</span>
ABS_MT_POSITION: y <span class="token operator">=</span> <span class="token number">36</span>
EV_KEY: down
EV_ABS: x <span class="token operator">=</span> <span class="token number">9963</span>
EV_ABS: y <span class="token operator">=</span> <span class="token number">36</span>
EV_SYN: -----------------
EV_KEY: up
EV_SYN: -----------------
EV_KEY: down
EV_SYN: -----------------
EV_KEY: up
EV_SYN: -----------------
EV_KEY: down
EV_SYN: -----------------
EV_KEY: up
EV_SYN: -----------------
ABS_MT_POSITION: x <span class="token operator">=</span> <span class="token number">36</span>
ABS_MT_POSITION: y <span class="token operator">=</span> <span class="token number">9963</span>
EV_KEY: down
EV_ABS: x <span class="token operator">=</span> <span class="token number">36</span>
EV_ABS: y <span class="token operator">=</span> <span class="token number">9963</span>
EV_SYN: -----------------
EV_KEY: up
EV_SYN: -----------------
EV_KEY: down
EV_SYN: -----------------
EV_KEY: up
EV_SYN: -----------------
EV_KEY: down
EV_SYN: -----------------
EV_KEY: up
EV_SYN: -----------------
EV_KEY: down
EV_SYN: -----------------
EV_KEY: up
EV_SYN: -----------------
EV_KEY: down
EV_SYN: -----------------
EV_KEY: up
EV_SYN: -----------------
ABS_MT_POSITION: x <span class="token operator">=</span> <span class="token number">10000</span>
ABS_MT_POSITION: y <span class="token operator">=</span> <span class="token number">10000</span>
EV_KEY: down
EV_ABS: x <span class="token operator">=</span> <span class="token number">10000</span>
EV_ABS: y <span class="token operator">=</span> <span class="token number">10000</span>
EV_SYN: -----------------
EV_KEY: up
EV_SYN: -----------------
EV_KEY: down
EV_SYN: -----------------
EV_KEY: up
EV_SYN: -----------------
ABS_MT_POSITION: y <span class="token operator">=</span> <span class="token number">9992</span>
EV_KEY: down
EV_ABS: y <span class="token operator">=</span> <span class="token number">9992</span>
EV_SYN: -----------------
EV_KEY: up
EV_SYN: -----------------
^C
root@armadillo:/debug/04_practice<span class="token comment">#</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></details>
<h4 id="実行している様子">実行している様子 </h4>
<details open=""><summary> tpevent を実行している動画 </summary>
<p><a href="https://youtu.be/UsarzH6bivM">https://youtu.be/UsarzH6bivM</a></p>
<p><video controls="" src="assets/20240711_tpevent.mp4" title="Title" width="1024"></video></p>
</details>
<h2 id="tslib">tslib </h2>
<p>タッチパネル座標からスクリーン座標へ変換するライブラリ<br>
tslib を利用した場合、タッチパネルの座標は左上を原点として800x480(0,0)-(799,479)</p>
<div class="admonition warning">
<p class="admonition-title">tslib を利用するにはあらかじめ <span style="color:red"> キャリブレーション </span> が必要</p>
</div>
<h4 id="tslib_122origtarxz-による-tslib-のインストール">tslib_1.22.orig.tar.xz による tslib のインストール </h4>
<div class="admonition warning">
<p class="admonition-title">VirtualBoxでスクリーンショットを撮ること</p>
</div>
<div class="admonition warning">
<p class="admonition-title">ArmadilloX1側で操作すること</p>
</div>
<h4 id="apt-update">apt update </h4>
<details open=""><summary> root@armadillo:~# apt update </summary>
<pre data-role="codeBlock" data-info="bash{.line-numbers}" class="language-bash bash line-numbers"><code>root@armadillo:~<span class="token comment"># apt update</span>
Get:1 http://security.debian.org buster/updates InRelease <span class="token punctuation">[</span><span class="token number">34.8</span> kB<span class="token punctuation">]</span>
Hit:2 http://archive.debian.org/debian buster InRelease
Ign:3 http://download.atmark-techno.com/debian buster InRelease
Hit:4 http://download.atmark-techno.com/debian buster Release
Fetched <span class="token number">34.8</span> kB <span class="token keyword keyword-in">in</span> 7s <span class="token punctuation">(</span><span class="token number">4810</span> B/s<span class="token punctuation">)</span>
nf_conntrack: default automatic helper assignment has been turned off <span class="token keyword keyword-for">for</span> security reasons and CT-based  firewall rule not found. Use the iptables CT target to attach helpers instead.
Reading package lists<span class="token punctuation">..</span>. Done
Building dependency tree
Reading state information<span class="token punctuation">..</span>. Done
All packages are up to date.
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></details>
<h4 id="apt-install-libts-bin-libts-dev-libts0">apt install libts-bin libts-dev libts0 </h4>
<details open=""><summary> root@armadillo:~# apt install libts-bin libts-dev libts0 </summary>
<pre data-role="codeBlock" data-info="bash{.line-numbers}" class="language-bash bash line-numbers"><code>root@armadillo:~<span class="token comment"># apt update</span>
Get:1 http://security.debian.org buster/updates InRelease <span class="token punctuation">[</span><span class="token number">34.8</span> kB<span class="token punctuation">]</span>
Hit:2 http://archive.debian.org/debian buster InRelease
Ign:3 http://download.atmark-techno.com/debian buster InRelease
Hit:4 http://download.atmark-techno.com/debian buster Release
Fetched <span class="token number">34.8</span> kB <span class="token keyword keyword-in">in</span> 7s <span class="token punctuation">(</span><span class="token number">4810</span> B/s<span class="token punctuation">)</span>
nf_conntrack: default automatic helper assignment has been turned off <span class="token keyword keyword-for">for</span> security reasons and CT-based  firewall rule not found. Use the iptables CT target to attach helpers instead.
Reading package lists<span class="token punctuation">..</span>. Done
Building dependency tree
Reading state information<span class="token punctuation">..</span>. Done
All packages are up to date.
root@armadillo:~<span class="token comment">#</span>
root@armadillo:~<span class="token comment">#</span>
root@armadillo:~<span class="token comment"># apt install libts-bin libts-dev libts0</span>
Reading package lists<span class="token punctuation">..</span>. Done
Building dependency tree
Reading state information<span class="token punctuation">..</span>. Done
The following packages were automatically installed and are no longer required:
  libevent-core-2.1-6 libevent-pthreads-2.1-6 libopts25 sntp
Use <span class="token string">'apt autoremove'</span> to remove them.
The following NEW packages will be installed:
  libts-bin libts-dev libts0
<span class="token number">0</span> upgraded, <span class="token number">3</span> newly installed, <span class="token number">0</span> to remove and <span class="token number">0</span> not upgraded.
Need to get <span class="token number">99.8</span> kB of archives.
After this operation, <span class="token number">369</span> kB of additional disk space will be used.
Get:1 http://archive.debian.org/debian buster/main armhf libts0 armhf <span class="token number">1.19</span>-1 <span class="token punctuation">[</span><span class="token number">55.0</span> kB<span class="token punctuation">]</span>
Get:2 http://archive.debian.org/debian buster/main armhf libts-bin armhf <span class="token number">1.19</span>-1 <span class="token punctuation">[</span><span class="token number">37.6</span> kB<span class="token punctuation">]</span>
Get:3 http://archive.debian.org/debian buster/main armhf libts-dev armhf <span class="token number">1.19</span>-1 <span class="token punctuation">[</span><span class="token number">7256</span> B<span class="token punctuation">]</span>
Fetched <span class="token number">99.8</span> kB <span class="token keyword keyword-in">in</span> 0s <span class="token punctuation">(</span><span class="token number">434</span> kB/s<span class="token punctuation">)</span>
debconf: delaying package configuration, since apt-utils is not installed
Selecting previously unselected package libts0:armhf.
<span class="token punctuation">(</span>Reading database <span class="token punctuation">..</span>. <span class="token number">44723</span> files and directories currently installed.<span class="token punctuation">)</span>
Preparing to unpack <span class="token punctuation">..</span>./libts0_1.19-1_armhf.deb <span class="token punctuation">..</span>.
Unpacking libts0:armhf <span class="token punctuation">(</span><span class="token number">1.19</span>-1<span class="token punctuation">)</span> <span class="token punctuation">..</span>.
Selecting previously unselected package libts-bin.
Preparing to unpack <span class="token punctuation">..</span>./libts-bin_1.19-1_armhf.deb <span class="token punctuation">..</span>.
Unpacking libts-bin <span class="token punctuation">(</span><span class="token number">1.19</span>-1<span class="token punctuation">)</span> <span class="token punctuation">..</span>.
Selecting previously unselected package libts-dev:armhf.
Preparing to unpack <span class="token punctuation">..</span>./libts-dev_1.19-1_armhf.deb <span class="token punctuation">..</span>.
Unpacking libts-dev:armhf <span class="token punctuation">(</span><span class="token number">1.19</span>-1<span class="token punctuation">)</span> <span class="token punctuation">..</span>.
Setting up libts0:armhf <span class="token punctuation">(</span><span class="token number">1.19</span>-1<span class="token punctuation">)</span> <span class="token punctuation">..</span>.
Setting up libts-bin <span class="token punctuation">(</span><span class="token number">1.19</span>-1<span class="token punctuation">)</span> <span class="token punctuation">..</span>.
Setting up libts-dev:armhf <span class="token punctuation">(</span><span class="token number">1.19</span>-1<span class="token punctuation">)</span> <span class="token punctuation">..</span>.
Processing triggers <span class="token keyword keyword-for">for</span> libc-bin <span class="token punctuation">(</span><span class="token number">2.28</span>-10+deb10u4<span class="token punctuation">)</span> <span class="token punctuation">..</span>.
Processing triggers <span class="token keyword keyword-for">for</span> man-db <span class="token punctuation">(</span><span class="token number">2.8</span>.5-2+deb10u1<span class="token punctuation">)</span> <span class="token punctuation">..</span>.
Processing triggers <span class="token keyword keyword-for">for</span> mime-support <span class="token punctuation">(</span><span class="token number">3.62</span><span class="token punctuation">)</span> <span class="token punctuation">..</span>.
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></details>
<h4 id="apt-install-autoconf-automake-libtool">apt install autoconf automake libtool </h4>
<details open=""><summary> root@armadillo:~# apt install libts-bin libts-dev libts0 </summary>
<pre data-role="codeBlock" data-info="bash{.line-numbers}" class="language-bash bash line-numbers"><code>root@armadillo:~<span class="token comment"># apt install libts-bin libts-dev libts0</span>
Reading package lists<span class="token punctuation">..</span>. Done
Building dependency tree
Reading state information<span class="token punctuation">..</span>. Done
The following packages were automatically installed and are no longer required:
  libevent-core-2.1-6 libevent-pthreads-2.1-6 libopts25 sntp
Use <span class="token string">'apt autoremove'</span> to remove them.
The following NEW packages will be installed:
  libts-bin libts-dev libts0
<span class="token number">0</span> upgraded, <span class="token number">3</span> newly installed, <span class="token number">0</span> to remove and <span class="token number">0</span> not upgraded.
Need to get <span class="token number">99.8</span> kB of archives.
After this operation, <span class="token number">369</span> kB of additional disk space will be used.
Get:1 http://archive.debian.org/debian buster/main armhf libts0 armhf <span class="token number">1.19</span>-1 <span class="token punctuation">[</span><span class="token number">55.0</span> kB<span class="token punctuation">]</span>
Get:2 http://archive.debian.org/debian buster/main armhf libts-bin armhf <span class="token number">1.19</span>-1 <span class="token punctuation">[</span><span class="token number">37.6</span> kB<span class="token punctuation">]</span>
Get:3 http://archive.debian.org/debian buster/main armhf libts-dev armhf <span class="token number">1.19</span>-1 <span class="token punctuation">[</span><span class="token number">7256</span> B<span class="token punctuation">]</span>
Fetched <span class="token number">99.8</span> kB <span class="token keyword keyword-in">in</span> 5s <span class="token punctuation">(</span><span class="token number">20.3</span> kB/s<span class="token punctuation">)</span>
debconf: delaying package configuration, since apt-utils is not installed
Selecting previously unselected package libts0:armhf.
<span class="token punctuation">(</span>Reading database <span class="token punctuation">..</span>. <span class="token number">44723</span> files and directories currently installed.<span class="token punctuation">)</span>
Preparing to unpack <span class="token punctuation">..</span>./libts0_1.19-1_armhf.deb <span class="token punctuation">..</span>.
Unpacking libts0:armhf <span class="token punctuation">(</span><span class="token number">1.19</span>-1<span class="token punctuation">)</span> <span class="token punctuation">..</span>.
Selecting previously unselected package libts-bin.
Preparing to unpack <span class="token punctuation">..</span>./libts-bin_1.19-1_armhf.deb <span class="token punctuation">..</span>.
Unpacking libts-bin <span class="token punctuation">(</span><span class="token number">1.19</span>-1<span class="token punctuation">)</span> <span class="token punctuation">..</span>.
Selecting previously unselected package libts-dev:armhf.
Preparing to unpack <span class="token punctuation">..</span>./libts-dev_1.19-1_armhf.deb <span class="token punctuation">..</span>.
Unpacking libts-dev:armhf <span class="token punctuation">(</span><span class="token number">1.19</span>-1<span class="token punctuation">)</span> <span class="token punctuation">..</span>.
Setting up libts0:armhf <span class="token punctuation">(</span><span class="token number">1.19</span>-1<span class="token punctuation">)</span> <span class="token punctuation">..</span>.
Setting up libts-bin <span class="token punctuation">(</span><span class="token number">1.19</span>-1<span class="token punctuation">)</span> <span class="token punctuation">..</span>.
Setting up libts-dev:armhf <span class="token punctuation">(</span><span class="token number">1.19</span>-1<span class="token punctuation">)</span> <span class="token punctuation">..</span>.
Processing triggers <span class="token keyword keyword-for">for</span> libc-bin <span class="token punctuation">(</span><span class="token number">2.28</span>-10+deb10u4<span class="token punctuation">)</span> <span class="token punctuation">..</span>.
Processing triggers <span class="token keyword keyword-for">for</span> man-db <span class="token punctuation">(</span><span class="token number">2.8</span>.5-2+deb10u1<span class="token punctuation">)</span> <span class="token punctuation">..</span>.
Processing triggers <span class="token keyword keyword-for">for</span> mime-support <span class="token punctuation">(</span><span class="token number">3.62</span><span class="token punctuation">)</span> <span class="token punctuation">..</span>.
root@armadillo:~<span class="token comment">#</span>
root@armadillo:~<span class="token comment">#</span>
root@armadillo:~<span class="token comment"># apt install autoconf automake libtool</span>
Reading package lists<span class="token punctuation">..</span>. Done
Building dependency tree
Reading state information<span class="token punctuation">..</span>. Done
The following packages were automatically installed and are no longer required:
  libevent-core-2.1-6 libevent-pthreads-2.1-6 libopts25 sntp
Use <span class="token string">'apt autoremove'</span> to remove them.
The following additional packages will be installed:
  autotools-dev libltdl-dev libltdl7 libsigsegv2 m4
Suggested packages:
  autoconf-archive gnu-standards autoconf-doc gettext libtool-doc gfortran
  <span class="token operator">|</span> fortran95-compiler gcj-jdk m4-doc
The following NEW packages will be installed:
  autoconf automake autotools-dev libltdl-dev libltdl7 libsigsegv2 libtool m4
<span class="token number">0</span> upgraded, <span class="token number">8</span> newly installed, <span class="token number">0</span> to remove and <span class="token number">0</span> not upgraded.
Need to get <span class="token number">2505</span> kB of archives.
After this operation, <span class="token number">6838</span> kB of additional disk space will be used.
Do you want to continue? <span class="token punctuation">[</span>Y/n<span class="token punctuation">]</span> Y
Get:1 http://archive.debian.org/debian buster/main armhf libsigsegv2 armhf <span class="token number">2.12</span>-2 <span class="token punctuation">[</span><span class="token number">32.1</span> kB<span class="token punctuation">]</span>
Get:2 http://archive.debian.org/debian buster/main armhf m4 armhf <span class="token number">1.4</span>.18-2 <span class="token punctuation">[</span><span class="token number">190</span> kB<span class="token punctuation">]</span>
Get:3 http://archive.debian.org/debian buster/main armhf autoconf all <span class="token number">2.69</span>-11 <span class="token punctuation">[</span><span class="token number">341</span> kB<span class="token punctuation">]</span>
Get:4 http://archive.debian.org/debian buster/main armhf autotools-dev all <span class="token number">20180224.1</span> <span class="token punctuation">[</span><span class="token number">77.0</span> kB<span class="token punctuation">]</span>
Get:5 http://archive.debian.org/debian buster/main armhf automake all <span class="token number">1</span>:1.16.1-4 <span class="token punctuation">[</span><span class="token number">771</span> kB<span class="token punctuation">]</span>
Get:6 http://archive.debian.org/debian buster/main armhf libltdl7 armhf <span class="token number">2.4</span>.6-9 <span class="token punctuation">[</span><span class="token number">387</span> kB<span class="token punctuation">]</span>
Get:7 http://archive.debian.org/debian buster/main armhf libltdl-dev armhf <span class="token number">2.4</span>.6-9 <span class="token punctuation">[</span><span class="token number">160</span> kB<span class="token punctuation">]</span>
Get:8 http://archive.debian.org/debian buster/main armhf libtool all <span class="token number">2.4</span>.6-9 <span class="token punctuation">[</span><span class="token number">547</span> kB<span class="token punctuation">]</span>
Fetched <span class="token number">2505</span> kB <span class="token keyword keyword-in">in</span> 5s <span class="token punctuation">(</span><span class="token number">554</span> kB/s<span class="token punctuation">)</span>
debconf: delaying package configuration, since apt-utils is not installed
Selecting previously unselected package libsigsegv2:armhf.
<span class="token punctuation">(</span>Reading database <span class="token punctuation">..</span>. <span class="token number">44793</span> files and directories currently installed.<span class="token punctuation">)</span>
Preparing to unpack <span class="token punctuation">..</span>./0-libsigsegv2_2.12-2_armhf.deb <span class="token punctuation">..</span>.
Unpacking libsigsegv2:armhf <span class="token punctuation">(</span><span class="token number">2.12</span>-2<span class="token punctuation">)</span> <span class="token punctuation">..</span>.
Selecting previously unselected package m4.
Preparing to unpack <span class="token punctuation">..</span>./1-m4_1.4.18-2_armhf.deb <span class="token punctuation">..</span>.
Unpacking m4 <span class="token punctuation">(</span><span class="token number">1.4</span>.18-2<span class="token punctuation">)</span> <span class="token punctuation">..</span>.
Selecting previously unselected package autoconf.
Preparing to unpack <span class="token punctuation">..</span>./2-autoconf_2.69-11_all.deb <span class="token punctuation">..</span>.
Unpacking autoconf <span class="token punctuation">(</span><span class="token number">2.69</span>-11<span class="token punctuation">)</span> <span class="token punctuation">..</span>.
Selecting previously unselected package autotools-dev.
Preparing to unpack <span class="token punctuation">..</span>./3-autotools-dev_20180224.1_all.deb <span class="token punctuation">..</span>.
Unpacking autotools-dev <span class="token punctuation">(</span><span class="token number">20180224.1</span><span class="token punctuation">)</span> <span class="token punctuation">..</span>.
Selecting previously unselected package automake.
Preparing to unpack <span class="token punctuation">..</span>./4-automake_1%3a1.16.1-4_all.deb <span class="token punctuation">..</span>.
Unpacking automake <span class="token punctuation">(</span><span class="token number">1</span>:1.16.1-4<span class="token punctuation">)</span> <span class="token punctuation">..</span>.
Selecting previously unselected package libltdl7:armhf.
Preparing to unpack <span class="token punctuation">..</span>./5-libltdl7_2.4.6-9_armhf.deb <span class="token punctuation">..</span>.
Unpacking libltdl7:armhf <span class="token punctuation">(</span><span class="token number">2.4</span>.6-9<span class="token punctuation">)</span> <span class="token punctuation">..</span>.
Selecting previously unselected package libltdl-dev:armhf.
Preparing to unpack <span class="token punctuation">..</span>./6-libltdl-dev_2.4.6-9_armhf.deb <span class="token punctuation">..</span>.
Unpacking libltdl-dev:armhf <span class="token punctuation">(</span><span class="token number">2.4</span>.6-9<span class="token punctuation">)</span> <span class="token punctuation">..</span>.
Selecting previously unselected package libtool.
Preparing to unpack <span class="token punctuation">..</span>./7-libtool_2.4.6-9_all.deb <span class="token punctuation">..</span>.
Unpacking libtool <span class="token punctuation">(</span><span class="token number">2.4</span>.6-9<span class="token punctuation">)</span> <span class="token punctuation">..</span>.
Setting up autotools-dev <span class="token punctuation">(</span><span class="token number">20180224.1</span><span class="token punctuation">)</span> <span class="token punctuation">..</span>.
Setting up libsigsegv2:armhf <span class="token punctuation">(</span><span class="token number">2.12</span>-2<span class="token punctuation">)</span> <span class="token punctuation">..</span>.
Setting up libltdl7:armhf <span class="token punctuation">(</span><span class="token number">2.4</span>.6-9<span class="token punctuation">)</span> <span class="token punctuation">..</span>.
Setting up libtool <span class="token punctuation">(</span><span class="token number">2.4</span>.6-9<span class="token punctuation">)</span> <span class="token punctuation">..</span>.
Setting up m4 <span class="token punctuation">(</span><span class="token number">1.4</span>.18-2<span class="token punctuation">)</span> <span class="token punctuation">..</span>.
Setting up autoconf <span class="token punctuation">(</span><span class="token number">2.69</span>-11<span class="token punctuation">)</span> <span class="token punctuation">..</span>.
Setting up automake <span class="token punctuation">(</span><span class="token number">1</span>:1.16.1-4<span class="token punctuation">)</span> <span class="token punctuation">..</span>.
update-alternatives: using /usr/bin/automake-1.16 to provide /usr/bin/automake <span class="token punctuation">(</span>automake<span class="token punctuation">)</span> <span class="token keyword keyword-in">in</span> auto mode
Setting up libltdl-dev:armhf <span class="token punctuation">(</span><span class="token number">2.4</span>.6-9<span class="token punctuation">)</span> <span class="token punctuation">..</span>.
Processing triggers <span class="token keyword keyword-for">for</span> man-db <span class="token punctuation">(</span><span class="token number">2.8</span>.5-2+deb10u1<span class="token punctuation">)</span> <span class="token punctuation">..</span>.
Processing triggers <span class="token keyword keyword-for">for</span> libc-bin <span class="token punctuation">(</span><span class="token number">2.28</span>-10+deb10u4<span class="token punctuation">)</span> <span class="token punctuation">..</span>.
root@armadillo:~<span class="token comment">#</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></details>
<h4 id="tslib_122origtarxz-の入手">tslib_1.22.orig.tar.xz の入手 </h4>
<p><a href="https://ftp.jaist.ac.jp/debian/pool/main/t/tslib/">tslib_1.22.orig.tar.xz のダウンロード</a></p>
<p><img src="assets/2024-07-11_15-17-27.png" alt="alt text"></p>
<p>ダウンロード後は、ArmadilloX1との共有フォルダへ移動<br>
例) V:\VirtualBoxWork\share\ArmadilloX1\hwpwm\vbox_share_hwpwm\R06_2024</p>
<h4 id="worklinuxnfsrootroot-へコピー">/work/linux/nfsroot/root へコピー </h4>
<details open=""><summary> atmark@atde8:~$ sudo cp /media/sf_ArmadilloX1/hwpwm/vbox_share_hwpwm/R06_2024/tslib_1.22.orig.tar.xz /work/linux/nfsroot/root </summary>
<pre data-role="codeBlock" data-info="bash{.line-numbers}" class="language-bash bash line-numbers"><code>atmark@atde8:~$ <span class="token function">sudo</span> <span class="token function">cp</span> /media/sf_ArmadilloX1/hwpwm/vbox_share_hwpwm/R06_2024/tslib_1.22.orig.tar.xz /work/linux/nfsroot/root
<span class="token punctuation">[</span>sudo<span class="token punctuation">]</span> atmark のパスワード:
atmark@atde8:~$
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></pre></details>
<h4 id="tar-jxvf-tslib_122origtarxz">tar Jxvf tslib_1.22.orig.tar.xz </h4>
<details open=""><summary> root@armadillo:~# tar Jxvf tslib_1.22.orig.tar.xz </summary>
<pre data-role="codeBlock" data-info="bash{.line-numbers}" class="language-bash bash line-numbers"><code>root@armadillo:~<span class="token comment"># tar Jxvf tslib_1.22.orig.tar.xz</span>
tslib-1.22/
tslib-1.22/compile
tslib-1.22/tools/
tslib-1.22/tools/Makefile.in
tslib-1.22/tools/CMakeLists.txt
tslib-1.22/tools/Makefile.am
tslib-1.22/tools/ts_uinput_start.sh
tslib-1.22/tools/ts_uinput.c
tslib-1.22/README
tslib-1.22/acinclude.m4
tslib-1.22/Makefile.in
tslib-1.22/config.guess
tslib-1.22/ltmain.sh
tslib-1.22/install-sh
tslib-1.22/CMakeLists.txt
tslib-1.22/README.md
tslib-1.22/autogen.sh
tslib-1.22/Makefile.am
tslib-1.22/config.h.in
tslib-1.22/m4/
tslib-1.22/m4/external/
tslib-1.22/m4/external/PLACEHOLDER
tslib-1.22/m4/internal/
tslib-1.22/m4/internal/libtool.m4
tslib-1.22/m4/internal/ltversion.m4
tslib-1.22/m4/internal/tslib_modules.m4
tslib-1.22/m4/internal/ltsugar.m4
tslib-1.22/m4/internal/visibility.m4
tslib-1.22/m4/internal/lt~obsolete.m4
tslib-1.22/m4/internal/ltoptions.m4
tslib-1.22/COPYING
tslib-1.22/NEWS
tslib-1.22/tslib.pc.in
tslib-1.22/doc/
tslib-1.22/doc/ts_read_mt.3
tslib-1.22/doc/Makefile.in
tslib-1.22/doc/ts_print.1
tslib-1.22/doc/ts_close.3
tslib-1.22/doc/ts.conf.5
tslib-1.22/doc/ts_verify.1
tslib-1.22/doc/ts_libversion.3
tslib-1.22/doc/ts_conf_get.3
tslib-1.22/doc/CMakeLists.txt
tslib-1.22/doc/ts_print_raw.1
tslib-1.22/doc/ts_conf.1
tslib-1.22/doc/ts_open.3
tslib-1.22/doc/ts_fd.3
tslib-1.22/doc/ts_finddev.1
tslib-1.22/doc/ts_get_eventpath.3
tslib-1.22/doc/ts_conf_set.3
tslib-1.22/doc/ts_setup.3
tslib-1.22/doc/Makefile.am
tslib-1.22/doc/ts_print_mt.1
tslib-1.22/doc/ts_calibrate.1
tslib-1.22/doc/ts_harvest.1
tslib-1.22/doc/ts_close_restricted.3
tslib-1.22/doc/ts_read_raw_mt.3
tslib-1.22/doc/ts_test_mt.1
tslib-1.22/doc/tslib_version.3
tslib-1.22/doc/ts_test.1
tslib-1.22/doc/ts_read.3
tslib-1.22/doc/ts_error_fn.3
tslib-1.22/doc/ts_read_raw.3
tslib-1.22/doc/ts_open_restricted.3
tslib-1.22/doc/ts_config.3
tslib-1.22/doc/ts_print_ascii_logo.3
tslib-1.22/doc/ts_uinput.1
tslib-1.22/missing
tslib-1.22/ChangeLog
tslib-1.22/cmake/
tslib-1.22/cmake/config.h.in
tslib-1.22/cmake/tslibConfig.cmake.in
tslib-1.22/THANKS
tslib-1.22/plugins/
tslib-1.22/plugins/input-evdev-raw.c
tslib-1.22/plugins/iir.c
tslib-1.22/plugins/Makefile.in
tslib-1.22/plugins/input-raw.c
tslib-1.22/plugins/h3600-raw.c
tslib-1.22/plugins/touchkit-raw.c
tslib-1.22/plugins/debounce.c
tslib-1.22/plugins/collie-raw.c
tslib-1.22/plugins/median.c
tslib-1.22/plugins/CMakeLists.txt
tslib-1.22/plugins/ucb1x00-raw.c
tslib-1.22/plugins/linear.c
tslib-1.22/plugins/waveshare-raw.c
tslib-1.22/plugins/cy8mrln-palmpre.c
tslib-1.22/plugins/evthres.c
tslib-1.22/plugins/dmc_dus3000-raw.c
tslib-1.22/plugins/Makefile.am
tslib-1.22/plugins/plugins.h
tslib-1.22/plugins/one-wire-ts-input-raw.c
tslib-1.22/plugins/linear-h2200.c
tslib-1.22/plugins/skip.c
tslib-1.22/plugins/arctic2-raw.c
tslib-1.22/plugins/variance.c
tslib-1.22/plugins/mk712-raw.c
tslib-1.22/plugins/pthres.c
tslib-1.22/plugins/corgi-raw.c
tslib-1.22/plugins/galax-raw.c
tslib-1.22/plugins/tatung-raw.c
tslib-1.22/plugins/dejitter.c
tslib-1.22/plugins/invert.c
tslib-1.22/plugins/dmc-raw.c
tslib-1.22/plugins/cy8mrln.h
tslib-1.22/plugins/lowpass.c
tslib-1.22/AUTHORS
tslib-1.22/aclocal.m4
tslib-1.22/configure.ac
tslib-1.22/configure
tslib-1.22/etc/
tslib-1.22/etc/Makefile.in
tslib-1.22/etc/CMakeLists.txt
tslib-1.22/etc/ts.conf
tslib-1.22/etc/Makefile.am
tslib-1.22/depcomp
tslib-1.22/src/
tslib-1.22/src/ts_version.c
tslib-1.22/src/ts_read_raw.c
tslib-1.22/src/Makefile.in
tslib-1.22/src/ts_get_eventpath.c
tslib-1.22/src/ts_config.c
tslib-1.22/src/tslib-private.h
tslib-1.22/src/CMakeLists.txt
tslib-1.22/src/ts_read.c
tslib-1.22/src/ts_parse_vars.c
tslib-1.22/src/ts_close.c
tslib-1.22/src/Makefile.am
tslib-1.22/src/ts_setup.c
tslib-1.22/src/ts_open.c
tslib-1.22/src/ts_attach.c
tslib-1.22/src/ts_strsep.h
tslib-1.22/src/tslib-filter.h
tslib-1.22/src/ts_config_filter.c
tslib-1.22/src/ts_error.c
tslib-1.22/src/ts_fd.c
tslib-1.22/src/tslib.h
tslib-1.22/src/ts_strsep.c
tslib-1.22/src/ts_option.c
tslib-1.22/src/ts_load_module.c
tslib-1.22/INSTALL
tslib-1.22/config.sub
tslib-1.22/tests/
tslib-1.22/tests/ts_test_mt.c
tslib-1.22/tests/Makefile.in
tslib-1.22/tests/ts_calibrate.h
tslib-1.22/tests/fbutils.h
tslib-1.22/tests/fbutils-bsd.c
tslib-1.22/tests/ts_test_mt_sdl.c
tslib-1.22/tests/font.h
tslib-1.22/tests/ts_print_raw.c
tslib-1.22/tests/CMakeLists.txt
tslib-1.22/tests/testutils.h
tslib-1.22/tests/font_8x16.c
tslib-1.22/tests/ts_harvest.c
tslib-1.22/tests/ts_print.c
tslib-1.22/tests/ts_finddev.c
tslib-1.22/tests/ts_calibrate.c
tslib-1.22/tests/ts_calibrate_common.c
tslib-1.22/tests/Makefile.am
tslib-1.22/tests/sdlutils.c
tslib-1.22/tests/ts_test.c
tslib-1.22/tests/font_8x8.c
tslib-1.22/tests/COPYING
tslib-1.22/tests/ts_verify.c
tslib-1.22/tests/ts_calibrate_sdl.c
tslib-1.22/tests/ts_conf.c
tslib-1.22/tests/ts_print_mt.c
tslib-1.22/tests/sdlutils.h
tslib-1.22/tests/testutils.c
tslib-1.22/tests/fbutils-linux.c
root@armadillo:~<span class="token comment"># ls -al</span>
total <span class="token number">380</span>
drwx------  <span class="token number">5</span> root   root     <span class="token number">4096</span> Jul <span class="token number">11</span> <span class="token number">15</span>:22 <span class="token builtin class-name">.</span>
drwxr-xr-x <span class="token number">18</span> root   root     <span class="token number">4096</span> Jun <span class="token number">10</span> <span class="token number">20</span>:09 <span class="token punctuation">..</span>
-rw-------  <span class="token number">1</span> root   root     <span class="token number">7623</span> Jul  <span class="token number">9</span> <span class="token number">16</span>:07 .bash_history
-rw-r--r--  <span class="token number">1</span> root   root      <span class="token number">570</span> Jan <span class="token number">31</span>  <span class="token number">2010</span> .bashrc
drwx------  <span class="token number">3</span> root   root     <span class="token number">4096</span> Jun <span class="token number">10</span> <span class="token number">20</span>:51 .gnupg
drwxr-xr-x  <span class="token number">3</span> root   root     <span class="token number">4096</span> Jun <span class="token number">27</span> <span class="token number">12</span>:38 .local
-rw-r--r--  <span class="token number">1</span> root   root      <span class="token number">148</span> Aug <span class="token number">18</span>  <span class="token number">2015</span> .profile
drwxr-xr-x <span class="token number">10</span> atmark atmark   <span class="token number">4096</span> Jul  <span class="token number">1</span>  <span class="token number">2020</span> tslib-1.22
-rwxr-x---  <span class="token number">1</span> root   root   <span class="token number">351192</span> Jul <span class="token number">11</span> <span class="token number">15</span>:22 tslib_1.22.orig.tar.xz

root@armadillo:~<span class="token comment"># cd tslib-1.22/</span>

root@armadillo:~/tslib-1.22<span class="token comment"># ls -al</span>
total <span class="token number">1376</span>
drwxr-xr-x <span class="token number">10</span> atmark atmark   <span class="token number">4096</span> Jul  <span class="token number">1</span>  <span class="token number">2020</span> <span class="token builtin class-name">.</span>
drwx------  <span class="token number">5</span> root   root     <span class="token number">4096</span> Jul <span class="token number">11</span> <span class="token number">15</span>:22 <span class="token punctuation">..</span>
-rw-r--r--  <span class="token number">1</span> atmark atmark    <span class="token number">322</span> May <span class="token number">19</span>  <span class="token number">2019</span> AUTHORS
-rw-r--r--  <span class="token number">1</span> atmark atmark   <span class="token number">2184</span> Jul  <span class="token number">1</span>  <span class="token number">2020</span> CMakeLists.txt
-rw-r--r--  <span class="token number">1</span> atmark atmark  <span class="token number">26461</span> May <span class="token number">19</span>  <span class="token number">2019</span> COPYING
-rw-r--r--  <span class="token number">1</span> atmark atmark    <span class="token number">216</span> May <span class="token number">19</span>  <span class="token number">2019</span> ChangeLog
-rw-r--r--  <span class="token number">1</span> atmark atmark  <span class="token number">15756</span> Jul  <span class="token number">1</span>  <span class="token number">2020</span> INSTALL
-rw-r--r--  <span class="token number">1</span> atmark atmark    <span class="token number">495</span> May <span class="token number">19</span>  <span class="token number">2019</span> Makefile.am
-rw-r--r--  <span class="token number">1</span> atmark atmark  <span class="token number">29169</span> Jul  <span class="token number">1</span>  <span class="token number">2020</span> Makefile.in
-rw-r--r--  <span class="token number">1</span> atmark atmark  <span class="token number">12520</span> Jul  <span class="token number">1</span>  <span class="token number">2020</span> NEWS
-rw-r--r--  <span class="token number">1</span> atmark atmark    <span class="token number">962</span> Apr <span class="token number">16</span>  <span class="token number">2020</span> README
-rw-r--r--  <span class="token number">1</span> atmark atmark  <span class="token number">31735</span> Jul  <span class="token number">1</span>  <span class="token number">2020</span> README.md
-rw-r--r--  <span class="token number">1</span> atmark atmark   <span class="token number">2819</span> Apr <span class="token number">16</span>  <span class="token number">2020</span> THANKS
-rw-r--r--  <span class="token number">1</span> atmark atmark    <span class="token number">294</span> May <span class="token number">19</span>  <span class="token number">2019</span> acinclude.m4
-rw-r--r--  <span class="token number">1</span> atmark atmark  <span class="token number">52437</span> Jul  <span class="token number">1</span>  <span class="token number">2020</span> aclocal.m4
-rwxr-xr-x  <span class="token number">1</span> atmark atmark     <span class="token number">51</span> May <span class="token number">19</span>  <span class="token number">2019</span> autogen.sh
drwxr-xr-x  <span class="token number">2</span> atmark atmark   <span class="token number">4096</span> May <span class="token number">19</span>  <span class="token number">2019</span> cmake
-rwxr-xr-x  <span class="token number">1</span> atmark atmark   <span class="token number">7383</span> Jul  <span class="token number">1</span>  <span class="token number">2020</span> compile
-rwxr-xr-x  <span class="token number">1</span> atmark atmark  <span class="token number">44283</span> Jul  <span class="token number">1</span>  <span class="token number">2020</span> config.guess
-rw-r--r--  <span class="token number">1</span> atmark atmark  <span class="token number">10778</span> Jul  <span class="token number">1</span>  <span class="token number">2020</span> config.h.in
-rwxr-xr-x  <span class="token number">1</span> atmark atmark  <span class="token number">36136</span> Jul  <span class="token number">1</span>  <span class="token number">2020</span> config.sub
-rwxr-xr-x  <span class="token number">1</span> atmark atmark <span class="token number">661217</span> Jul  <span class="token number">1</span>  <span class="token number">2020</span> configure
-rw-r--r--  <span class="token number">1</span> atmark atmark   <span class="token number">7383</span> Jul  <span class="token number">1</span>  <span class="token number">2020</span> configure.ac
-rwxr-xr-x  <span class="token number">1</span> atmark atmark  <span class="token number">23568</span> Jul  <span class="token number">1</span>  <span class="token number">2020</span> depcomp
drwxr-xr-x  <span class="token number">2</span> atmark atmark   <span class="token number">4096</span> Jul  <span class="token number">1</span>  <span class="token number">2020</span> doc
drwxr-xr-x  <span class="token number">2</span> atmark atmark   <span class="token number">4096</span> Jul  <span class="token number">1</span>  <span class="token number">2020</span> etc
-rwxr-xr-x  <span class="token number">1</span> atmark atmark  <span class="token number">15368</span> Jul  <span class="token number">1</span>  <span class="token number">2020</span> install-sh
-rw-r--r--  <span class="token number">1</span> atmark atmark <span class="token number">327114</span> Jul  <span class="token number">1</span>  <span class="token number">2020</span> ltmain.sh
drwxr-xr-x  <span class="token number">4</span> atmark atmark   <span class="token number">4096</span> Jul  <span class="token number">1</span>  <span class="token number">2020</span> m4
-rwxr-xr-x  <span class="token number">1</span> atmark atmark   <span class="token number">6878</span> Jul  <span class="token number">1</span>  <span class="token number">2020</span> missing
drwxr-xr-x  <span class="token number">2</span> atmark atmark   <span class="token number">4096</span> Jul  <span class="token number">1</span>  <span class="token number">2020</span> plugins
drwxr-xr-x  <span class="token number">2</span> atmark atmark   <span class="token number">4096</span> Jul  <span class="token number">1</span>  <span class="token number">2020</span> src
drwxr-xr-x  <span class="token number">2</span> atmark atmark   <span class="token number">4096</span> Jul  <span class="token number">1</span>  <span class="token number">2020</span> tests
drwxr-xr-x  <span class="token number">2</span> atmark atmark   <span class="token number">4096</span> Jul  <span class="token number">1</span>  <span class="token number">2020</span> tools
-rw-r--r--  <span class="token number">1</span> atmark atmark    <span class="token number">208</span> May <span class="token number">19</span>  <span class="token number">2019</span> tslib.pc.in
root@armadillo:~/tslib-1.22<span class="token comment">#</span>

</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></details>
<h4 id="configure">./configure </h4>
<details open=""><summary> root@armadillo:~/tslib-1.22# ./configure </summary>
<pre data-role="codeBlock" data-info="bash{.line-numbers}" class="language-bash bash line-numbers"><code>root@armadillo:~/tslib-1.22<span class="token comment"># ./configure</span>
checking <span class="token keyword keyword-for">for</span> a BSD-compatible install<span class="token punctuation">..</span>. /usr/bin/install <span class="token parameter variable">-c</span>
checking whether build environment is sane<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> a thread-safe <span class="token function">mkdir</span> -p<span class="token punctuation">..</span>. /usr/bin/mkdir <span class="token parameter variable">-p</span>
checking <span class="token keyword keyword-for">for</span> gawk<span class="token punctuation">..</span>. no
checking <span class="token keyword keyword-for">for</span> mawk<span class="token punctuation">..</span>. mawk
checking whether <span class="token function">make</span> sets <span class="token variable"><span class="token variable">$(</span>MAKE<span class="token variable">)</span></span><span class="token punctuation">..</span>. <span class="token function">yes</span>
checking whether <span class="token function">make</span> supports nested variables<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking whether <span class="token function">make</span> supports nested variables<span class="token punctuation">..</span>. <span class="token punctuation">(</span>cached<span class="token punctuation">)</span> <span class="token function">yes</span>
checking build system type<span class="token punctuation">..</span>. armv7l-unknown-linux-gnueabihf
checking <span class="token function">host</span> system type<span class="token punctuation">..</span>. armv7l-unknown-linux-gnueabihf
checking <span class="token keyword keyword-for">for</span> gcc<span class="token punctuation">..</span>. gcc
checking whether the C compiler works<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> C compiler default output <span class="token function">file</span> name<span class="token punctuation">..</span>. a.out
checking <span class="token keyword keyword-for">for</span> suffix of executables<span class="token punctuation">..</span>.
checking whether we are cross compiling<span class="token punctuation">..</span>. no
checking <span class="token keyword keyword-for">for</span> suffix of object files<span class="token punctuation">..</span>. o
checking whether we are using the GNU C compiler<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking whether gcc accepts -g<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> gcc option to accept ISO C89<span class="token punctuation">..</span>. none needed
checking whether gcc understands <span class="token parameter variable">-c</span> and <span class="token parameter variable">-o</span> together<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking whether <span class="token function">make</span> supports the include directive<span class="token punctuation">..</span>. <span class="token function">yes</span> <span class="token punctuation">(</span>GNU style<span class="token punctuation">)</span>
checking dependency style of gcc<span class="token punctuation">..</span>. none
checking how to run the C preprocessor<span class="token punctuation">..</span>. gcc <span class="token parameter variable">-E</span>
checking whether the C compiler supports <span class="token parameter variable">-fvisibility</span><span class="token operator">=</span>hidden<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking whether to use <span class="token parameter variable">-fvisibility</span><span class="token operator">=</span>hidden<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking whether <span class="token function">ln</span> <span class="token parameter variable">-s</span> works<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking whether <span class="token function">make</span> sets <span class="token variable"><span class="token variable">$(</span>MAKE<span class="token variable">)</span></span><span class="token punctuation">..</span>. <span class="token punctuation">(</span>cached<span class="token punctuation">)</span> <span class="token function">yes</span>
checking how to print strings<span class="token punctuation">..</span>. <span class="token builtin class-name">printf</span>
checking <span class="token keyword keyword-for">for</span> a <span class="token function">sed</span> that does not truncate output<span class="token punctuation">..</span>. /usr/bin/sed
checking <span class="token keyword keyword-for">for</span> <span class="token function">grep</span> that handles long lines and -e<span class="token punctuation">..</span>. /usr/bin/grep
checking <span class="token keyword keyword-for">for</span> egrep<span class="token punctuation">..</span>. /usr/bin/grep <span class="token parameter variable">-E</span>
checking <span class="token keyword keyword-for">for</span> fgrep<span class="token punctuation">..</span>. /usr/bin/grep <span class="token parameter variable">-F</span>
checking <span class="token keyword keyword-for">for</span> ld used by gcc<span class="token punctuation">..</span>. /usr/bin/ld
checking <span class="token keyword keyword-if">if</span> the linker <span class="token punctuation">(</span>/usr/bin/ld<span class="token punctuation">)</span> is GNU ld<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> BSD- or MS-compatible name lister <span class="token punctuation">(</span>nm<span class="token punctuation">)</span><span class="token punctuation">..</span>. /usr/bin/nm <span class="token parameter variable">-B</span>
checking the name lister <span class="token punctuation">(</span>/usr/bin/nm -B<span class="token punctuation">)</span> interface<span class="token punctuation">..</span>. BSD nm
checking the maximum length of <span class="token builtin class-name">command</span> line arguments<span class="token punctuation">..</span>. <span class="token number">1572864</span>
checking how to convert armv7l-unknown-linux-gnueabihf <span class="token function">file</span> names to armv7l-unknown-linux-gnueabihf format<span class="token punctuation">..</span>. func_convert_file_noop
checking how to convert armv7l-unknown-linux-gnueabihf <span class="token function">file</span> names to toolchain format<span class="token punctuation">..</span>. func_convert_file_noop
checking <span class="token keyword keyword-for">for</span> /usr/bin/ld option to reload object files<span class="token punctuation">..</span>. <span class="token parameter variable">-r</span>
checking <span class="token keyword keyword-for">for</span> objdump<span class="token punctuation">..</span>. objdump
checking how to recognize dependent libraries<span class="token punctuation">..</span>. pass_all
checking <span class="token keyword keyword-for">for</span> dlltool<span class="token punctuation">..</span>. no
checking how to associate runtime and <span class="token function">link</span> libraries<span class="token punctuation">..</span>. <span class="token builtin class-name">printf</span> %s<span class="token punctuation">\</span>n
checking <span class="token keyword keyword-for">for</span> ar<span class="token punctuation">..</span>. ar
checking <span class="token keyword keyword-for">for</span> archiver @FILE support<span class="token punctuation">..</span>. @
checking <span class="token keyword keyword-for">for</span> strip<span class="token punctuation">..</span>. strip
checking <span class="token keyword keyword-for">for</span> ranlib<span class="token punctuation">..</span>. ranlib
checking <span class="token builtin class-name">command</span> to parse /usr/bin/nm <span class="token parameter variable">-B</span> output from gcc object<span class="token punctuation">..</span>. ok
checking <span class="token keyword keyword-for">for</span> sysroot<span class="token punctuation">..</span>. no
checking <span class="token keyword keyword-for">for</span> a working dd<span class="token punctuation">..</span>. /usr/bin/dd
checking how to truncate binary pipes<span class="token punctuation">..</span>. /usr/bin/dd <span class="token assign-left variable">bs</span><span class="token operator">=</span><span class="token number">4096</span> <span class="token assign-left variable">count</span><span class="token operator">=</span><span class="token number">1</span>
checking <span class="token keyword keyword-for">for</span> mt<span class="token punctuation">..</span>. no
checking <span class="token keyword keyword-if">if</span> <span class="token builtin class-name">:</span> is a manifest tool<span class="token punctuation">..</span>. no
checking <span class="token keyword keyword-for">for</span> ANSI C header files<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> sys/types.h<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> sys/stat.h<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> stdlib.h<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> string.h<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> memory.h<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> strings.h<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> inttypes.h<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> stdint.h<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> unistd.h<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> dlfcn.h<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> objdir<span class="token punctuation">..</span>. .libs
checking <span class="token keyword keyword-if">if</span> gcc supports -fno-rtti -fno-exceptions<span class="token punctuation">..</span>. no
checking <span class="token keyword keyword-for">for</span> gcc option to produce PIC<span class="token punctuation">..</span>. <span class="token parameter variable">-fPIC</span> <span class="token parameter variable">-DPIC</span>
checking <span class="token keyword keyword-if">if</span> gcc PIC flag <span class="token parameter variable">-fPIC</span> <span class="token parameter variable">-DPIC</span> works<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking <span class="token keyword keyword-if">if</span> gcc static flag <span class="token parameter variable">-static</span> works<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking <span class="token keyword keyword-if">if</span> gcc supports <span class="token parameter variable">-c</span> <span class="token parameter variable">-o</span> file.o<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking <span class="token keyword keyword-if">if</span> gcc supports <span class="token parameter variable">-c</span> <span class="token parameter variable">-o</span> file.o<span class="token punctuation">..</span>. <span class="token punctuation">(</span>cached<span class="token punctuation">)</span> <span class="token function">yes</span>
checking whether the gcc linker <span class="token punctuation">(</span>/usr/bin/ld<span class="token punctuation">)</span> supports shared libraries<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking whether <span class="token parameter variable">-lc</span> should be explicitly linked in<span class="token punctuation">..</span>. no
checking dynamic linker characteristics<span class="token punctuation">..</span>. GNU/Linux ld.so
checking how to hardcode library paths into programs<span class="token punctuation">..</span>. immediate
checking <span class="token keyword keyword-for">for</span> shl_load<span class="token punctuation">..</span>. no
checking <span class="token keyword keyword-for">for</span> <span class="token for-or-select variable">shl_load</span> <span class="token keyword keyword-in">in</span> -ldld<span class="token punctuation">..</span>. no
checking <span class="token keyword keyword-for">for</span> dlopen<span class="token punctuation">..</span>. no
checking <span class="token keyword keyword-for">for</span> <span class="token for-or-select variable">dlopen</span> <span class="token keyword keyword-in">in</span> -ldl<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking whether a program can dlopen itself<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking whether a statically linked program can dlopen itself<span class="token punctuation">..</span>. no
checking whether stripping libraries is possible<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking <span class="token keyword keyword-if">if</span> libtool supports shared libraries<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking whether to build shared libraries<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking whether to build static libraries<span class="token punctuation">..</span>. no
checking <span class="token keyword keyword-for">for</span> <span class="token for-or-select variable">dlopen</span> <span class="token keyword keyword-in">in</span> -ldl<span class="token punctuation">..</span>. <span class="token punctuation">(</span>cached<span class="token punctuation">)</span> <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> size_t<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> working alloca.h<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> alloca<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> ANSI C header files<span class="token punctuation">..</span>. <span class="token punctuation">(</span>cached<span class="token punctuation">)</span> <span class="token function">yes</span>
checking fcntl.h usability<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking fcntl.h presence<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> fcntl.h<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking limits.h usability<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking limits.h presence<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> limits.h<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> stdlib.h<span class="token punctuation">..</span>. <span class="token punctuation">(</span>cached<span class="token punctuation">)</span> <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> string.h<span class="token punctuation">..</span>. <span class="token punctuation">(</span>cached<span class="token punctuation">)</span> <span class="token function">yes</span>
checking sys/ioctl.h usability<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking sys/ioctl.h presence<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> sys/ioctl.h<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking sys/time.h usability<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking sys/time.h presence<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> sys/time.h<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> unistd.h<span class="token punctuation">..</span>. <span class="token punctuation">(</span>cached<span class="token punctuation">)</span> <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> stdint.h<span class="token punctuation">..</span>. <span class="token punctuation">(</span>cached<span class="token punctuation">)</span> <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> sys/types.h<span class="token punctuation">..</span>. <span class="token punctuation">(</span>cached<span class="token punctuation">)</span> <span class="token function">yes</span>
checking errno.h usability<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking errno.h presence<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> errno.h<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking dirent.h usability<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking dirent.h presence<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> dirent.h<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking linux/spi/cy8mrln.h usability<span class="token punctuation">..</span>. no
checking linux/spi/cy8mrln.h presence<span class="token punctuation">..</span>. no
checking <span class="token keyword keyword-for">for</span> linux/spi/cy8mrln.h<span class="token punctuation">..</span>. no
checking <span class="token keyword keyword-for">for</span> an ANSI C-conforming const<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> inline<span class="token punctuation">..</span>. inline
checking <span class="token keyword keyword-for">for</span> size_t<span class="token punctuation">..</span>. <span class="token punctuation">(</span>cached<span class="token punctuation">)</span> <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> uint16_t<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> uint8_t<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking whether time.h and sys/time.h may both be included<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking whether gcc needs -traditional<span class="token punctuation">..</span>. no
checking <span class="token keyword keyword-for">for</span> stdlib.h<span class="token punctuation">..</span>. <span class="token punctuation">(</span>cached<span class="token punctuation">)</span> <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> unistd.h<span class="token punctuation">..</span>. <span class="token punctuation">(</span>cached<span class="token punctuation">)</span> <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> sys/param.h<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> getpagesize<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> working mmap<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking sys/select.h usability<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking sys/select.h presence<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> sys/select.h<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking sys/socket.h usability<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking sys/socket.h presence<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> sys/socket.h<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking types of arguments <span class="token keyword keyword-for">for</span> select<span class="token punctuation">..</span>. int,fd_set *,struct timeval *
checking <span class="token builtin class-name">return</span> <span class="token builtin class-name">type</span> of signal handlers<span class="token punctuation">..</span>. void
checking whether lstat correctly handles trailing slash<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking whether <span class="token function">stat</span> accepts an empty string<span class="token punctuation">..</span>. no
checking <span class="token keyword keyword-for">for</span> vprintf<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> _doprnt<span class="token punctuation">..</span>. no
checking <span class="token keyword keyword-for">for</span> gettimeofday<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> memmove<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> memset<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> munmap<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> select<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> strcasecmp<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> strchr<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> strdup<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> strtoul<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> strtol<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> strsep<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking <span class="token keyword keyword-for">for</span> pkg-config<span class="token punctuation">..</span>. no
checking whether debounce module is requested<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking whether dejitter module is requested<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking whether evthres module is requested<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking whether iir module is requested<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking whether linear module is requested<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking whether median module is requested<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking whether pthres module is requested<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking whether skip module is requested<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking whether lowpass module is requested<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking whether invert module is requested<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking whether variance module is requested<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking whether input module is requested<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking whether touchkit module is requested<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking whether waveshare module is requested<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking whether input-evdev module is requested<span class="token punctuation">..</span>. no
checking whether tatung module is requested<span class="token punctuation">..</span>. no
checking whether ucb1x00 module is requested<span class="token punctuation">..</span>. no
checking whether mk712 module is requested<span class="token punctuation">..</span>. no
checking whether h3600 module is requested<span class="token punctuation">..</span>. no
checking whether dmc module is requested<span class="token punctuation">..</span>. no
checking whether linear-h2200 module is requested<span class="token punctuation">..</span>. no
checking whether corgi module is requested<span class="token punctuation">..</span>. no
checking whether collie module is requested<span class="token punctuation">..</span>. no
checking whether arctic2 module is requested<span class="token punctuation">..</span>. no
checking whether dmc_dus3000 module is requested<span class="token punctuation">..</span>. no
checking whether cy8mrln-palmpre module is requested<span class="token punctuation">..</span>. no
checking whether galax module is requested<span class="token punctuation">..</span>. no
checking whether one-wire-ts-input module is requested<span class="token punctuation">..</span>. no
checking where to place modules<span class="token punctuation">..</span>. <span class="token variable">${libdir}</span>/ts
checking whether to <span class="token builtin class-name">enable</span> debugging<span class="token punctuation">..</span>. no
checking whether to <span class="token builtin class-name">enable</span> tools<span class="token punctuation">..</span>. <span class="token function">yes</span>
checking that generated files are newer than configure<span class="token punctuation">..</span>. <span class="token keyword keyword-done">done</span>
configure: creating ./config.status
config.status: creating Makefile
config.status: creating etc/Makefile
config.status: creating plugins/Makefile
config.status: creating src/Makefile
config.status: creating tests/Makefile
config.status: creating tools/Makefile
config.status: creating doc/Makefile
config.status: creating tslib.pc
config.status: creating config.h
config.status: executing depfiles commands
config.status: executing libtool commands
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></details>
<h4 id="make-1">make </h4>
<details open=""><summary> root@armadillo:~/tslib-1.22# make </summary>
<pre data-role="codeBlock" data-info="bash{.line-numbers}" class="language-bash bash line-numbers"><code>root@armadillo:~/tslib-1.22<span class="token comment"># make</span>
<span class="token function">make</span>  all-recursive
make<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Entering directory <span class="token string">'/root/tslib-1.22'</span>
Making all <span class="token keyword keyword-in">in</span> etc
make<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>: Entering directory <span class="token string">'/root/tslib-1.22/etc'</span>
make<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>: Nothing to be <span class="token keyword keyword-done">done</span> <span class="token keyword keyword-for">for</span> <span class="token string">'all'</span><span class="token builtin class-name">.</span>
make<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>: Leaving directory <span class="token string">'/root/tslib-1.22/etc'</span>
Making all <span class="token keyword keyword-in">in</span> src
make<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>: Entering directory <span class="token string">'/root/tslib-1.22/src'</span>
  CC       ts_attach.lo
  CC       ts_close.lo
  CC       ts_config.lo
  CC       ts_error.lo
  CC       ts_fd.lo
  CC       ts_load_module.lo
  CC       ts_open.lo
  CC       ts_parse_vars.lo
  CC       ts_read.lo
  CC       ts_read_raw.lo
  CC       ts_option.lo
  CC       ts_setup.lo
  CC       ts_version.lo
  CC       ts_config_filter.lo
  CC       ts_get_eventpath.lo
  CC       ts_strsep.lo
  CCLD     libts.la
make<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>: Leaving directory <span class="token string">'/root/tslib-1.22/src'</span>
Making all <span class="token keyword keyword-in">in</span> plugins
make<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>: Entering directory <span class="token string">'/root/tslib-1.22/plugins'</span>
  CC       linear.lo
  CCLD     linear.la
  CC       dejitter.lo
  CCLD     dejitter.la
  CC       variance.lo
  CCLD     variance.la
  CC       median.lo
  CCLD     median.la
  CC       pthres.lo
  CCLD     pthres.la
  CC       debounce.lo
debounce.c: In <span class="token keyword keyword-function">function</span> ‘debounce_read’:
debounce.c:84:10: warning: comparison of integer expressions of different signedness: ‘long int’ and ‘unsigned int’ <span class="token punctuation">[</span>-Wsign-compare<span class="token punctuation">]</span>
   <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>dt <span class="token operator">&lt;</span> p-<span class="token operator">&gt;</span>drop_threshold<span class="token punctuation">)</span>
          ^
debounce.c: In <span class="token keyword keyword-function">function</span> ‘debounce_read_mt’:
debounce.c:181:11: warning: comparison of integer expressions of different signedness: ‘long int’ and ‘unsigned int’ <span class="token punctuation">[</span>-Wsign-compare<span class="token punctuation">]</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>dt <span class="token operator">&lt;</span> p-<span class="token operator">&gt;</span>drop_threshold<span class="token punctuation">)</span>
           ^
  CCLD     debounce.la
  CC       skip.lo
  CCLD     skip.la
  CC       invert.lo
  CCLD     invert.la
  CC       iir.lo
  CCLD     iir.la
  CC       evthres.lo
  CCLD     evthres.la
  CC       lowpass.lo
  CCLD     lowpass.la
  CC       input-raw.lo
  CCLD     input.la
  CC       touchkit-raw.lo
  CCLD     touchkit.la
  CC       waveshare-raw.lo
  CCLD     waveshare.la
make<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>: Leaving directory <span class="token string">'/root/tslib-1.22/plugins'</span>
Making all <span class="token keyword keyword-in">in</span> tests
make<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>: Entering directory <span class="token string">'/root/tslib-1.22/tests'</span>
  CC       ts_test.o
  CC       testutils.o
  CC       font_8x8.o
  CC       font_8x16.o
  CC       fbutils-linux.o
  CCLD     ts_test
  CC       ts_test_mt.o
  CCLD     ts_test_mt
  CC       ts_calibrate.o
  CC       ts_calibrate_common.o
  CCLD     ts_calibrate
  CC       ts_conf.o
  CCLD     ts_conf
  CC       ts_print.o
  CCLD     ts_print
  CC       ts_print_mt.o
  CCLD     ts_print_mt
  CC       ts_print_raw.o
  CCLD     ts_print_raw
  CC       ts_harvest.o
  CCLD     ts_harvest
  CC       ts_finddev.o
  CCLD     ts_finddev
  CC       ts_verify.o
  CCLD     ts_verify
make<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>: Leaving directory <span class="token string">'/root/tslib-1.22/tests'</span>
Making all <span class="token keyword keyword-in">in</span> tools
make<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>: Entering directory <span class="token string">'/root/tslib-1.22/tools'</span>
  CC       ts_uinput.o
  CCLD     ts_uinput
make<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>: Leaving directory <span class="token string">'/root/tslib-1.22/tools'</span>
Making all <span class="token keyword keyword-in">in</span> doc
make<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>: Entering directory <span class="token string">'/root/tslib-1.22/doc'</span>
make<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>: Nothing to be <span class="token keyword keyword-done">done</span> <span class="token keyword keyword-for">for</span> <span class="token string">'all'</span><span class="token builtin class-name">.</span>
make<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>: Leaving directory <span class="token string">'/root/tslib-1.22/doc'</span>
make<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>: Entering directory <span class="token string">'/root/tslib-1.22'</span>
make<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>: Leaving directory <span class="token string">'/root/tslib-1.22'</span>
make<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Leaving directory <span class="token string">'/root/tslib-1.22'</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></details>
<h4 id="make-install">make install </h4>
<details open=""><summary> root@armadillo:~/tslib-1.22# make install </summary>
<pre data-role="codeBlock" data-info="bash{.line-numbers}" class="language-bash bash line-numbers"><code>root@armadillo:~/tslib-1.22<span class="token comment"># make install</span>
Making <span class="token function">install</span> <span class="token keyword keyword-in">in</span> etc
make<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Entering directory <span class="token string">'/root/tslib-1.22/etc'</span>
make<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>: Entering directory <span class="token string">'/root/tslib-1.22/etc'</span>
 /usr/bin/mkdir <span class="token parameter variable">-p</span> <span class="token string">'/usr/local/etc'</span>
 /usr/bin/install <span class="token parameter variable">-c</span> <span class="token parameter variable">-m</span> <span class="token number">644</span> ts.conf <span class="token string">'/usr/local/etc'</span>
make<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>: Nothing to be <span class="token keyword keyword-done">done</span> <span class="token keyword keyword-for">for</span> <span class="token string">'install-data-am'</span><span class="token builtin class-name">.</span>
make<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>: Leaving directory <span class="token string">'/root/tslib-1.22/etc'</span>
make<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Leaving directory <span class="token string">'/root/tslib-1.22/etc'</span>
Making <span class="token function">install</span> <span class="token keyword keyword-in">in</span> src
make<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Entering directory <span class="token string">'/root/tslib-1.22/src'</span>
make<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>: Entering directory <span class="token string">'/root/tslib-1.22/src'</span>
 /usr/bin/mkdir <span class="token parameter variable">-p</span> <span class="token string">'/usr/local/lib'</span>
 /bin/bash <span class="token punctuation">..</span>/libtool   <span class="token parameter variable">--mode</span><span class="token operator">=</span>install /usr/bin/install <span class="token parameter variable">-c</span>   libts.la <span class="token string">'/usr/local/lib'</span>
libtool: install: /usr/bin/install <span class="token parameter variable">-c</span> .libs/libts.so.0.10.4 /usr/local/lib/libts.so.0.10.4
libtool: install: <span class="token punctuation">(</span>cd /usr/local/lib <span class="token operator">&amp;&amp;</span> <span class="token punctuation">{</span> <span class="token function">ln</span> <span class="token parameter variable">-s</span> <span class="token parameter variable">-f</span> libts.so.0.10.4 libts.so.0 <span class="token operator">||</span> <span class="token punctuation">{</span> <span class="token function">rm</span> <span class="token parameter variable">-f</span> libts.so.0 <span class="token operator">&amp;&amp;</span> <span class="token function">ln</span> <span class="token parameter variable">-s</span> libts.so.0.10.4 libts.so.0<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
libtool: install: <span class="token punctuation">(</span>cd /usr/local/lib <span class="token operator">&amp;&amp;</span> <span class="token punctuation">{</span> <span class="token function">ln</span> <span class="token parameter variable">-s</span> <span class="token parameter variable">-f</span> libts.so.0.10.4 libts.so <span class="token operator">||</span> <span class="token punctuation">{</span> <span class="token function">rm</span> <span class="token parameter variable">-f</span> libts.so <span class="token operator">&amp;&amp;</span> <span class="token function">ln</span> <span class="token parameter variable">-s</span> libts.so.0.10.4 libts.so<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
libtool: install: /usr/bin/install <span class="token parameter variable">-c</span> .libs/libts.lai /usr/local/lib/libts.la
libtool: finish: <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token string">"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/sbin"</span> ldconfig <span class="token parameter variable">-n</span> /usr/local/lib
----------------------------------------------------------------------
Libraries have been installed in:
   /usr/local/lib

If you ever happen to want to <span class="token function">link</span> against installed libraries
<span class="token keyword keyword-in">in</span> a given directory, LIBDIR, you must either use libtool, and
specify the full pathname of the library, or use the <span class="token string">'-LLIBDIR'</span>
flag during linking and <span class="token keyword keyword-do">do</span> at least one of the following:
   - <span class="token function">add</span> LIBDIR to the <span class="token string">'LD_LIBRARY_PATH'</span> environment variable
     during execution
   - <span class="token function">add</span> LIBDIR to the <span class="token string">'LD_RUN_PATH'</span> environment variable
     during linking
   - use the <span class="token string">'-Wl,-rpath -Wl,LIBDIR'</span> linker flag
   - have your system administrator <span class="token function">add</span> LIBDIR to <span class="token string">'/etc/ld.so.conf'</span>

See any operating system documentation about shared libraries <span class="token keyword keyword-for">for</span>
<span class="token function">more</span> information, such as the ld<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> and ld.so<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> manual pages.
----------------------------------------------------------------------
 /usr/bin/mkdir <span class="token parameter variable">-p</span> <span class="token string">'/usr/local/include'</span>
 /usr/bin/install <span class="token parameter variable">-c</span> <span class="token parameter variable">-m</span> <span class="token number">644</span> tslib.h <span class="token string">'/usr/local/include'</span>
make<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>: Leaving directory <span class="token string">'/root/tslib-1.22/src'</span>
make<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Leaving directory <span class="token string">'/root/tslib-1.22/src'</span>
Making <span class="token function">install</span> <span class="token keyword keyword-in">in</span> plugins
make<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Entering directory <span class="token string">'/root/tslib-1.22/plugins'</span>
make<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>: Entering directory <span class="token string">'/root/tslib-1.22/plugins'</span>
 /usr/bin/mkdir <span class="token parameter variable">-p</span> <span class="token string">'/usr/local/lib/ts'</span>
 /bin/bash <span class="token punctuation">..</span>/libtool   <span class="token parameter variable">--mode</span><span class="token operator">=</span>install /usr/bin/install <span class="token parameter variable">-c</span>   linear.la dejitter.la variance.la median.la pthres.la debounce.la skip.la invert.la iir.la evthres.la lowpass.la input.la touchkit.la waveshare.la <span class="token string">'/usr/local/lib/ts'</span>
libtool: warning: relinking <span class="token string">'linear.la'</span>
libtool: install: <span class="token punctuation">(</span>cd /root/tslib-1.22/plugins<span class="token punctuation">;</span> /bin/bash <span class="token string">"/root/tslib-1.22/libtool"</span>  <span class="token parameter variable">--silent</span> <span class="token parameter variable">--tag</span> CC <span class="token parameter variable">--mode</span><span class="token operator">=</span>relink gcc <span class="token parameter variable">-DTS_POINTERCAL</span><span class="token operator">=</span><span class="token punctuation">\</span>"/usr/local/etc/pointercal<span class="token punctuation">\</span>" <span class="token parameter variable">-DTSLIB_INTERNAL</span> <span class="token parameter variable">-fvisibility</span><span class="token operator">=</span>hidden <span class="token parameter variable">-DGCC_HASCLASSVISIBILITY</span> <span class="token parameter variable">-O2</span> <span class="token parameter variable">-Wall</span> <span class="token parameter variable">-W</span> <span class="token parameter variable">-fPIC</span> <span class="token parameter variable">-module</span> -avoid-version <span class="token parameter variable">-o</span> linear.la <span class="token parameter variable">-rpath</span> /usr/local/lib/ts linear.lo <span class="token punctuation">..</span>/src/libts.la <span class="token parameter variable">-ldl</span> <span class="token punctuation">)</span>
libtool: install: /usr/bin/install <span class="token parameter variable">-c</span> .libs/linear.soT /usr/local/lib/ts/linear.so
libtool: install: /usr/bin/install <span class="token parameter variable">-c</span> .libs/linear.lai /usr/local/lib/ts/linear.la
libtool: warning: relinking <span class="token string">'dejitter.la'</span>
libtool: install: <span class="token punctuation">(</span>cd /root/tslib-1.22/plugins<span class="token punctuation">;</span> /bin/bash <span class="token string">"/root/tslib-1.22/libtool"</span>  <span class="token parameter variable">--silent</span> <span class="token parameter variable">--tag</span> CC <span class="token parameter variable">--mode</span><span class="token operator">=</span>relink gcc <span class="token parameter variable">-DTS_POINTERCAL</span><span class="token operator">=</span><span class="token punctuation">\</span>"/usr/local/etc/pointercal<span class="token punctuation">\</span>" <span class="token parameter variable">-DTSLIB_INTERNAL</span> <span class="token parameter variable">-fvisibility</span><span class="token operator">=</span>hidden <span class="token parameter variable">-DGCC_HASCLASSVISIBILITY</span> <span class="token parameter variable">-O2</span> <span class="token parameter variable">-Wall</span> <span class="token parameter variable">-W</span> <span class="token parameter variable">-fPIC</span> <span class="token parameter variable">-module</span> -avoid-version <span class="token parameter variable">-o</span> dejitter.la <span class="token parameter variable">-rpath</span> /usr/local/lib/ts dejitter.lo <span class="token punctuation">..</span>/src/libts.la <span class="token parameter variable">-ldl</span> <span class="token punctuation">)</span>
libtool: install: /usr/bin/install <span class="token parameter variable">-c</span> .libs/dejitter.soT /usr/local/lib/ts/dejitter.so
libtool: install: /usr/bin/install <span class="token parameter variable">-c</span> .libs/dejitter.lai /usr/local/lib/ts/dejitter.la
libtool: warning: relinking <span class="token string">'variance.la'</span>
libtool: install: <span class="token punctuation">(</span>cd /root/tslib-1.22/plugins<span class="token punctuation">;</span> /bin/bash <span class="token string">"/root/tslib-1.22/libtool"</span>  <span class="token parameter variable">--silent</span> <span class="token parameter variable">--tag</span> CC <span class="token parameter variable">--mode</span><span class="token operator">=</span>relink gcc <span class="token parameter variable">-DTS_POINTERCAL</span><span class="token operator">=</span><span class="token punctuation">\</span>"/usr/local/etc/pointercal<span class="token punctuation">\</span>" <span class="token parameter variable">-DTSLIB_INTERNAL</span> <span class="token parameter variable">-fvisibility</span><span class="token operator">=</span>hidden <span class="token parameter variable">-DGCC_HASCLASSVISIBILITY</span> <span class="token parameter variable">-O2</span> <span class="token parameter variable">-Wall</span> <span class="token parameter variable">-W</span> <span class="token parameter variable">-fPIC</span> <span class="token parameter variable">-module</span> -avoid-version <span class="token parameter variable">-o</span> variance.la <span class="token parameter variable">-rpath</span> /usr/local/lib/ts variance.lo <span class="token punctuation">..</span>/src/libts.la <span class="token parameter variable">-ldl</span> <span class="token punctuation">)</span>
libtool: install: /usr/bin/install <span class="token parameter variable">-c</span> .libs/variance.soT /usr/local/lib/ts/variance.so
libtool: install: /usr/bin/install <span class="token parameter variable">-c</span> .libs/variance.lai /usr/local/lib/ts/variance.la
libtool: warning: relinking <span class="token string">'median.la'</span>
libtool: install: <span class="token punctuation">(</span>cd /root/tslib-1.22/plugins<span class="token punctuation">;</span> /bin/bash <span class="token string">"/root/tslib-1.22/libtool"</span>  <span class="token parameter variable">--silent</span> <span class="token parameter variable">--tag</span> CC <span class="token parameter variable">--mode</span><span class="token operator">=</span>relink gcc <span class="token parameter variable">-DTS_POINTERCAL</span><span class="token operator">=</span><span class="token punctuation">\</span>"/usr/local/etc/pointercal<span class="token punctuation">\</span>" <span class="token parameter variable">-DTSLIB_INTERNAL</span> <span class="token parameter variable">-fvisibility</span><span class="token operator">=</span>hidden <span class="token parameter variable">-DGCC_HASCLASSVISIBILITY</span> <span class="token parameter variable">-O2</span> <span class="token parameter variable">-Wall</span> <span class="token parameter variable">-W</span> <span class="token parameter variable">-fPIC</span> <span class="token parameter variable">-module</span> -avoid-version <span class="token parameter variable">-o</span> median.la <span class="token parameter variable">-rpath</span> /usr/local/lib/ts median.lo <span class="token punctuation">..</span>/src/libts.la <span class="token parameter variable">-ldl</span> <span class="token punctuation">)</span>
libtool: install: /usr/bin/install <span class="token parameter variable">-c</span> .libs/median.soT /usr/local/lib/ts/median.so
libtool: install: /usr/bin/install <span class="token parameter variable">-c</span> .libs/median.lai /usr/local/lib/ts/median.la
libtool: warning: relinking <span class="token string">'pthres.la'</span>
libtool: install: <span class="token punctuation">(</span>cd /root/tslib-1.22/plugins<span class="token punctuation">;</span> /bin/bash <span class="token string">"/root/tslib-1.22/libtool"</span>  <span class="token parameter variable">--silent</span> <span class="token parameter variable">--tag</span> CC <span class="token parameter variable">--mode</span><span class="token operator">=</span>relink gcc <span class="token parameter variable">-DTS_POINTERCAL</span><span class="token operator">=</span><span class="token punctuation">\</span>"/usr/local/etc/pointercal<span class="token punctuation">\</span>" <span class="token parameter variable">-DTSLIB_INTERNAL</span> <span class="token parameter variable">-fvisibility</span><span class="token operator">=</span>hidden <span class="token parameter variable">-DGCC_HASCLASSVISIBILITY</span> <span class="token parameter variable">-O2</span> <span class="token parameter variable">-Wall</span> <span class="token parameter variable">-W</span> <span class="token parameter variable">-fPIC</span> <span class="token parameter variable">-module</span> -avoid-version <span class="token parameter variable">-o</span> pthres.la <span class="token parameter variable">-rpath</span> /usr/local/lib/ts pthres.lo <span class="token punctuation">..</span>/src/libts.la <span class="token parameter variable">-ldl</span> <span class="token punctuation">)</span>
libtool: install: /usr/bin/install <span class="token parameter variable">-c</span> .libs/pthres.soT /usr/local/lib/ts/pthres.so
libtool: install: /usr/bin/install <span class="token parameter variable">-c</span> .libs/pthres.lai /usr/local/lib/ts/pthres.la
libtool: warning: relinking <span class="token string">'debounce.la'</span>
libtool: install: <span class="token punctuation">(</span>cd /root/tslib-1.22/plugins<span class="token punctuation">;</span> /bin/bash <span class="token string">"/root/tslib-1.22/libtool"</span>  <span class="token parameter variable">--silent</span> <span class="token parameter variable">--tag</span> CC <span class="token parameter variable">--mode</span><span class="token operator">=</span>relink gcc <span class="token parameter variable">-DTS_POINTERCAL</span><span class="token operator">=</span><span class="token punctuation">\</span>"/usr/local/etc/pointercal<span class="token punctuation">\</span>" <span class="token parameter variable">-DTSLIB_INTERNAL</span> <span class="token parameter variable">-fvisibility</span><span class="token operator">=</span>hidden <span class="token parameter variable">-DGCC_HASCLASSVISIBILITY</span> <span class="token parameter variable">-O2</span> <span class="token parameter variable">-Wall</span> <span class="token parameter variable">-W</span> <span class="token parameter variable">-fPIC</span> <span class="token parameter variable">-module</span> -avoid-version <span class="token parameter variable">-o</span> debounce.la <span class="token parameter variable">-rpath</span> /usr/local/lib/ts debounce.lo <span class="token punctuation">..</span>/src/libts.la <span class="token parameter variable">-ldl</span> <span class="token punctuation">)</span>
libtool: install: /usr/bin/install <span class="token parameter variable">-c</span> .libs/debounce.soT /usr/local/lib/ts/debounce.so
libtool: install: /usr/bin/install <span class="token parameter variable">-c</span> .libs/debounce.lai /usr/local/lib/ts/debounce.la
libtool: warning: relinking <span class="token string">'skip.la'</span>
libtool: install: <span class="token punctuation">(</span>cd /root/tslib-1.22/plugins<span class="token punctuation">;</span> /bin/bash <span class="token string">"/root/tslib-1.22/libtool"</span>  <span class="token parameter variable">--silent</span> <span class="token parameter variable">--tag</span> CC <span class="token parameter variable">--mode</span><span class="token operator">=</span>relink gcc <span class="token parameter variable">-DTS_POINTERCAL</span><span class="token operator">=</span><span class="token punctuation">\</span>"/usr/local/etc/pointercal<span class="token punctuation">\</span>" <span class="token parameter variable">-DTSLIB_INTERNAL</span> <span class="token parameter variable">-fvisibility</span><span class="token operator">=</span>hidden <span class="token parameter variable">-DGCC_HASCLASSVISIBILITY</span> <span class="token parameter variable">-O2</span> <span class="token parameter variable">-Wall</span> <span class="token parameter variable">-W</span> <span class="token parameter variable">-fPIC</span> <span class="token parameter variable">-module</span> -avoid-version <span class="token parameter variable">-o</span> skip.la <span class="token parameter variable">-rpath</span> /usr/local/lib/ts skip.lo <span class="token punctuation">..</span>/src/libts.la <span class="token parameter variable">-ldl</span> <span class="token punctuation">)</span>
libtool: install: /usr/bin/install <span class="token parameter variable">-c</span> .libs/skip.soT /usr/local/lib/ts/skip.so
libtool: install: /usr/bin/install <span class="token parameter variable">-c</span> .libs/skip.lai /usr/local/lib/ts/skip.la
libtool: warning: relinking <span class="token string">'invert.la'</span>
libtool: install: <span class="token punctuation">(</span>cd /root/tslib-1.22/plugins<span class="token punctuation">;</span> /bin/bash <span class="token string">"/root/tslib-1.22/libtool"</span>  <span class="token parameter variable">--silent</span> <span class="token parameter variable">--tag</span> CC <span class="token parameter variable">--mode</span><span class="token operator">=</span>relink gcc <span class="token parameter variable">-DTS_POINTERCAL</span><span class="token operator">=</span><span class="token punctuation">\</span>"/usr/local/etc/pointercal<span class="token punctuation">\</span>" <span class="token parameter variable">-DTSLIB_INTERNAL</span> <span class="token parameter variable">-fvisibility</span><span class="token operator">=</span>hidden <span class="token parameter variable">-DGCC_HASCLASSVISIBILITY</span> <span class="token parameter variable">-O2</span> <span class="token parameter variable">-Wall</span> <span class="token parameter variable">-W</span> <span class="token parameter variable">-fPIC</span> <span class="token parameter variable">-module</span> -avoid-version <span class="token parameter variable">-o</span> invert.la <span class="token parameter variable">-rpath</span> /usr/local/lib/ts invert.lo <span class="token punctuation">..</span>/src/libts.la <span class="token parameter variable">-ldl</span> <span class="token punctuation">)</span>
libtool: install: /usr/bin/install <span class="token parameter variable">-c</span> .libs/invert.soT /usr/local/lib/ts/invert.so
libtool: install: /usr/bin/install <span class="token parameter variable">-c</span> .libs/invert.lai /usr/local/lib/ts/invert.la
libtool: warning: relinking <span class="token string">'iir.la'</span>
libtool: install: <span class="token punctuation">(</span>cd /root/tslib-1.22/plugins<span class="token punctuation">;</span> /bin/bash <span class="token string">"/root/tslib-1.22/libtool"</span>  <span class="token parameter variable">--silent</span> <span class="token parameter variable">--tag</span> CC <span class="token parameter variable">--mode</span><span class="token operator">=</span>relink gcc <span class="token parameter variable">-DTS_POINTERCAL</span><span class="token operator">=</span><span class="token punctuation">\</span>"/usr/local/etc/pointercal<span class="token punctuation">\</span>" <span class="token parameter variable">-DTSLIB_INTERNAL</span> <span class="token parameter variable">-fvisibility</span><span class="token operator">=</span>hidden <span class="token parameter variable">-DGCC_HASCLASSVISIBILITY</span> <span class="token parameter variable">-O2</span> <span class="token parameter variable">-Wall</span> <span class="token parameter variable">-W</span> <span class="token parameter variable">-fPIC</span> <span class="token parameter variable">-module</span> -avoid-version <span class="token parameter variable">-o</span> iir.la <span class="token parameter variable">-rpath</span> /usr/local/lib/ts iir.lo <span class="token punctuation">..</span>/src/libts.la <span class="token parameter variable">-ldl</span> <span class="token punctuation">)</span>
libtool: install: /usr/bin/install <span class="token parameter variable">-c</span> .libs/iir.soT /usr/local/lib/ts/iir.so
libtool: install: /usr/bin/install <span class="token parameter variable">-c</span> .libs/iir.lai /usr/local/lib/ts/iir.la
libtool: warning: relinking <span class="token string">'evthres.la'</span>
libtool: install: <span class="token punctuation">(</span>cd /root/tslib-1.22/plugins<span class="token punctuation">;</span> /bin/bash <span class="token string">"/root/tslib-1.22/libtool"</span>  <span class="token parameter variable">--silent</span> <span class="token parameter variable">--tag</span> CC <span class="token parameter variable">--mode</span><span class="token operator">=</span>relink gcc <span class="token parameter variable">-DTS_POINTERCAL</span><span class="token operator">=</span><span class="token punctuation">\</span>"/usr/local/etc/pointercal<span class="token punctuation">\</span>" <span class="token parameter variable">-DTSLIB_INTERNAL</span> <span class="token parameter variable">-fvisibility</span><span class="token operator">=</span>hidden <span class="token parameter variable">-DGCC_HASCLASSVISIBILITY</span> <span class="token parameter variable">-O2</span> <span class="token parameter variable">-Wall</span> <span class="token parameter variable">-W</span> <span class="token parameter variable">-fPIC</span> <span class="token parameter variable">-module</span> -avoid-version <span class="token parameter variable">-o</span> evthres.la <span class="token parameter variable">-rpath</span> /usr/local/lib/ts evthres.lo <span class="token punctuation">..</span>/src/libts.la <span class="token parameter variable">-ldl</span> <span class="token punctuation">)</span>
libtool: install: /usr/bin/install <span class="token parameter variable">-c</span> .libs/evthres.soT /usr/local/lib/ts/evthres.so
libtool: install: /usr/bin/install <span class="token parameter variable">-c</span> .libs/evthres.lai /usr/local/lib/ts/evthres.la
libtool: warning: relinking <span class="token string">'lowpass.la'</span>
libtool: install: <span class="token punctuation">(</span>cd /root/tslib-1.22/plugins<span class="token punctuation">;</span> /bin/bash <span class="token string">"/root/tslib-1.22/libtool"</span>  <span class="token parameter variable">--silent</span> <span class="token parameter variable">--tag</span> CC <span class="token parameter variable">--mode</span><span class="token operator">=</span>relink gcc <span class="token parameter variable">-DTS_POINTERCAL</span><span class="token operator">=</span><span class="token punctuation">\</span>"/usr/local/etc/pointercal<span class="token punctuation">\</span>" <span class="token parameter variable">-DTSLIB_INTERNAL</span> <span class="token parameter variable">-fvisibility</span><span class="token operator">=</span>hidden <span class="token parameter variable">-DGCC_HASCLASSVISIBILITY</span> <span class="token parameter variable">-O2</span> <span class="token parameter variable">-Wall</span> <span class="token parameter variable">-W</span> <span class="token parameter variable">-fPIC</span> <span class="token parameter variable">-module</span> -avoid-version <span class="token parameter variable">-o</span> lowpass.la <span class="token parameter variable">-rpath</span> /usr/local/lib/ts lowpass.lo <span class="token punctuation">..</span>/src/libts.la <span class="token parameter variable">-ldl</span> <span class="token punctuation">)</span>
libtool: install: /usr/bin/install <span class="token parameter variable">-c</span> .libs/lowpass.soT /usr/local/lib/ts/lowpass.so
libtool: install: /usr/bin/install <span class="token parameter variable">-c</span> .libs/lowpass.lai /usr/local/lib/ts/lowpass.la
libtool: warning: relinking <span class="token string">'input.la'</span>
libtool: install: <span class="token punctuation">(</span>cd /root/tslib-1.22/plugins<span class="token punctuation">;</span> /bin/bash <span class="token string">"/root/tslib-1.22/libtool"</span>  <span class="token parameter variable">--silent</span> <span class="token parameter variable">--tag</span> CC <span class="token parameter variable">--mode</span><span class="token operator">=</span>relink gcc <span class="token parameter variable">-DTS_POINTERCAL</span><span class="token operator">=</span><span class="token punctuation">\</span>"/usr/local/etc/pointercal<span class="token punctuation">\</span>" <span class="token parameter variable">-DTSLIB_INTERNAL</span> <span class="token parameter variable">-fvisibility</span><span class="token operator">=</span>hidden <span class="token parameter variable">-DGCC_HASCLASSVISIBILITY</span> <span class="token parameter variable">-O2</span> <span class="token parameter variable">-Wall</span> <span class="token parameter variable">-W</span> <span class="token parameter variable">-fPIC</span> <span class="token parameter variable">-module</span> -avoid-version <span class="token parameter variable">-o</span> input.la <span class="token parameter variable">-rpath</span> /usr/local/lib/ts input-raw.lo <span class="token punctuation">..</span>/src/libts.la <span class="token parameter variable">-ldl</span> <span class="token punctuation">)</span>
libtool: install: /usr/bin/install <span class="token parameter variable">-c</span> .libs/input.soT /usr/local/lib/ts/input.so
libtool: install: /usr/bin/install <span class="token parameter variable">-c</span> .libs/input.lai /usr/local/lib/ts/input.la
libtool: install: /usr/bin/install <span class="token parameter variable">-c</span> .libs/touchkit.so /usr/local/lib/ts/touchkit.so
libtool: install: /usr/bin/install <span class="token parameter variable">-c</span> .libs/touchkit.lai /usr/local/lib/ts/touchkit.la
libtool: warning: relinking <span class="token string">'waveshare.la'</span>
libtool: install: <span class="token punctuation">(</span>cd /root/tslib-1.22/plugins<span class="token punctuation">;</span> /bin/bash <span class="token string">"/root/tslib-1.22/libtool"</span>  <span class="token parameter variable">--silent</span> <span class="token parameter variable">--tag</span> CC <span class="token parameter variable">--mode</span><span class="token operator">=</span>relink gcc <span class="token parameter variable">-DTS_POINTERCAL</span><span class="token operator">=</span><span class="token punctuation">\</span>"/usr/local/etc/pointercal<span class="token punctuation">\</span>" <span class="token parameter variable">-DTSLIB_INTERNAL</span> <span class="token parameter variable">-fvisibility</span><span class="token operator">=</span>hidden <span class="token parameter variable">-DGCC_HASCLASSVISIBILITY</span> <span class="token parameter variable">-O2</span> <span class="token parameter variable">-Wall</span> <span class="token parameter variable">-W</span> <span class="token parameter variable">-fPIC</span> <span class="token parameter variable">-module</span> -avoid-version <span class="token parameter variable">-o</span> waveshare.la <span class="token parameter variable">-rpath</span> /usr/local/lib/ts waveshare-raw.lo <span class="token punctuation">..</span>/src/libts.la <span class="token parameter variable">-ldl</span> <span class="token punctuation">)</span>
libtool: install: /usr/bin/install <span class="token parameter variable">-c</span> .libs/waveshare.soT /usr/local/lib/ts/waveshare.so
libtool: install: /usr/bin/install <span class="token parameter variable">-c</span> .libs/waveshare.lai /usr/local/lib/ts/waveshare.la
libtool: finish: <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token string">"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/sbin"</span> ldconfig <span class="token parameter variable">-n</span> /usr/local/lib/ts
----------------------------------------------------------------------
Libraries have been installed in:
   /usr/local/lib/ts

If you ever happen to want to <span class="token function">link</span> against installed libraries
<span class="token keyword keyword-in">in</span> a given directory, LIBDIR, you must either use libtool, and
specify the full pathname of the library, or use the <span class="token string">'-LLIBDIR'</span>
flag during linking and <span class="token keyword keyword-do">do</span> at least one of the following:
   - <span class="token function">add</span> LIBDIR to the <span class="token string">'LD_LIBRARY_PATH'</span> environment variable
     during execution
   - <span class="token function">add</span> LIBDIR to the <span class="token string">'LD_RUN_PATH'</span> environment variable
     during linking
   - use the <span class="token string">'-Wl,-rpath -Wl,LIBDIR'</span> linker flag
   - have your system administrator <span class="token function">add</span> LIBDIR to <span class="token string">'/etc/ld.so.conf'</span>

See any operating system documentation about shared libraries <span class="token keyword keyword-for">for</span>
<span class="token function">more</span> information, such as the ld<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> and ld.so<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> manual pages.
----------------------------------------------------------------------
make<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>: Nothing to be <span class="token keyword keyword-done">done</span> <span class="token keyword keyword-for">for</span> <span class="token string">'install-data-am'</span><span class="token builtin class-name">.</span>
make<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>: Leaving directory <span class="token string">'/root/tslib-1.22/plugins'</span>
make<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Leaving directory <span class="token string">'/root/tslib-1.22/plugins'</span>
Making <span class="token function">install</span> <span class="token keyword keyword-in">in</span> tests
make<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Entering directory <span class="token string">'/root/tslib-1.22/tests'</span>
make<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>: Entering directory <span class="token string">'/root/tslib-1.22/tests'</span>
 /usr/bin/mkdir <span class="token parameter variable">-p</span> <span class="token string">'/usr/local/bin'</span>
  /bin/bash <span class="token punctuation">..</span>/libtool   <span class="token parameter variable">--mode</span><span class="token operator">=</span>install /usr/bin/install <span class="token parameter variable">-c</span> ts_test ts_test_mt ts_calibrate ts_conf ts_print ts_print_mt ts_print_raw ts_harvest ts_finddev ts_verify <span class="token string">'/usr/local/bin'</span>
libtool: install: /usr/bin/install <span class="token parameter variable">-c</span> .libs/ts_test /usr/local/bin/ts_test
libtool: install: /usr/bin/install <span class="token parameter variable">-c</span> .libs/ts_test_mt /usr/local/bin/ts_test_mt
libtool: install: /usr/bin/install <span class="token parameter variable">-c</span> .libs/ts_calibrate /usr/local/bin/ts_calibrate
libtool: install: /usr/bin/install <span class="token parameter variable">-c</span> .libs/ts_conf /usr/local/bin/ts_conf
libtool: install: /usr/bin/install <span class="token parameter variable">-c</span> .libs/ts_print /usr/local/bin/ts_print
libtool: install: /usr/bin/install <span class="token parameter variable">-c</span> .libs/ts_print_mt /usr/local/bin/ts_print_mt
libtool: install: /usr/bin/install <span class="token parameter variable">-c</span> .libs/ts_print_raw /usr/local/bin/ts_print_raw
libtool: install: /usr/bin/install <span class="token parameter variable">-c</span> .libs/ts_harvest /usr/local/bin/ts_harvest
libtool: install: /usr/bin/install <span class="token parameter variable">-c</span> .libs/ts_finddev /usr/local/bin/ts_finddev
libtool: install: /usr/bin/install <span class="token parameter variable">-c</span> .libs/ts_verify /usr/local/bin/ts_verify
make<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>: Nothing to be <span class="token keyword keyword-done">done</span> <span class="token keyword keyword-for">for</span> <span class="token string">'install-data-am'</span><span class="token builtin class-name">.</span>
make<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>: Leaving directory <span class="token string">'/root/tslib-1.22/tests'</span>
make<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Leaving directory <span class="token string">'/root/tslib-1.22/tests'</span>
Making <span class="token function">install</span> <span class="token keyword keyword-in">in</span> tools
make<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Entering directory <span class="token string">'/root/tslib-1.22/tools'</span>
make<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>: Entering directory <span class="token string">'/root/tslib-1.22/tools'</span>
 /usr/bin/mkdir <span class="token parameter variable">-p</span> <span class="token string">'/usr/local/bin'</span>
  /bin/bash <span class="token punctuation">..</span>/libtool   <span class="token parameter variable">--mode</span><span class="token operator">=</span>install /usr/bin/install <span class="token parameter variable">-c</span> ts_uinput <span class="token string">'/usr/local/bin'</span>
libtool: install: /usr/bin/install <span class="token parameter variable">-c</span> .libs/ts_uinput /usr/local/bin/ts_uinput
make<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>: Nothing to be <span class="token keyword keyword-done">done</span> <span class="token keyword keyword-for">for</span> <span class="token string">'install-data-am'</span><span class="token builtin class-name">.</span>
make<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>: Leaving directory <span class="token string">'/root/tslib-1.22/tools'</span>
make<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Leaving directory <span class="token string">'/root/tslib-1.22/tools'</span>
Making <span class="token function">install</span> <span class="token keyword keyword-in">in</span> doc
make<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Entering directory <span class="token string">'/root/tslib-1.22/doc'</span>
make<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>: Entering directory <span class="token string">'/root/tslib-1.22/doc'</span>
make<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>: Nothing to be <span class="token keyword keyword-done">done</span> <span class="token keyword keyword-for">for</span> <span class="token string">'install-exec-am'</span><span class="token builtin class-name">.</span>
 /usr/bin/mkdir <span class="token parameter variable">-p</span> <span class="token string">'/usr/local/share/man/man1'</span>
 /usr/bin/install <span class="token parameter variable">-c</span> <span class="token parameter variable">-m</span> <span class="token number">644</span> ts_calibrate.1 ts_conf.1 ts_finddev.1 ts_harvest.1 ts_print.1 ts_print_mt.1 ts_print_raw.1 ts_test.1 ts_test_mt.1 ts_uinput.1 ts_verify.1 <span class="token string">'/usr/local/share/man/man1'</span>
 /usr/bin/mkdir <span class="token parameter variable">-p</span> <span class="token string">'/usr/local/share/man/man3'</span>
 /usr/bin/install <span class="token parameter variable">-c</span> <span class="token parameter variable">-m</span> <span class="token number">644</span> ts_close.3 ts_close_restricted.3 ts_conf_get.3 ts_config.3 ts_conf_set.3 ts_error_fn.3 ts_fd.3 ts_get_eventpath.3 ts_libversion.3 tslib_version.3 ts_open.3 ts_open_restricted.3 ts_print_ascii_logo.3 ts_read.3 ts_read_mt.3 ts_read_raw.3 ts_read_raw_mt.3 ts_setup.3 <span class="token string">'/usr/local/share/man/man3'</span>
 /usr/bin/mkdir <span class="token parameter variable">-p</span> <span class="token string">'/usr/local/share/man/man5'</span>
 /usr/bin/install <span class="token parameter variable">-c</span> <span class="token parameter variable">-m</span> <span class="token number">644</span> ts.conf.5 <span class="token string">'/usr/local/share/man/man5'</span>
make<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>: Leaving directory <span class="token string">'/root/tslib-1.22/doc'</span>
make<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Leaving directory <span class="token string">'/root/tslib-1.22/doc'</span>
make<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Entering directory <span class="token string">'/root/tslib-1.22'</span>
make<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>: Entering directory <span class="token string">'/root/tslib-1.22'</span>
make<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>: Nothing to be <span class="token keyword keyword-done">done</span> <span class="token keyword keyword-for">for</span> <span class="token string">'install-exec-am'</span><span class="token builtin class-name">.</span>
 /usr/bin/mkdir <span class="token parameter variable">-p</span> <span class="token string">'/usr/local/lib/pkgconfig'</span>
 /usr/bin/install <span class="token parameter variable">-c</span> <span class="token parameter variable">-m</span> <span class="token number">644</span> tslib.pc <span class="token string">'/usr/local/lib/pkgconfig'</span>
make<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>: Leaving directory <span class="token string">'/root/tslib-1.22'</span>
make<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Leaving directory <span class="token string">'/root/tslib-1.22'</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></details>
<h4 id="usrlocallibts-と-usrlocalincludetslibh-の確認">/usr/local/lib/ts と /usr/local/include/tslib.h の確認 </h4>
<details open=""><summary> root@armadillo:~/tslib-1.22# find / -name "ts" -type d </summary>
<pre data-role="codeBlock" data-info="bash{.line-numbers}" class="language-bash bash line-numbers"><code>root@armadillo:~/tslib-1.22<span class="token comment"># find / -name "ts" -type d</span>
/usr/local/lib/ts
/run/sudo/ts
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></pre></details>
<details open=""><summary> root@armadillo:~/tslib-1.22# find / -name "tslib.h" </summary>
<pre data-role="codeBlock" data-info="bash{.line-numbers}" class="language-bash bash line-numbers"><code>root@armadillo:~/tslib-1.22<span class="token comment"># find / -name "tslib.h"</span>
/root/tslib-1.22/src/tslib.h
/usr/local/include/tslib.h
/usr/include/tslib.h
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></pre></details>
<h4 id="キャリブレーションファイルの指定">キャリブレーションファイルの指定 </h4>
<div class="admonition warning">
<p class="admonition-title">ArmadilloX1 起動時してから、ts_calibrate する前に export しておく</p>
</div>
<details open=""><summary> root@armadillo:~/tslib-1.22# export TSLIB_CALIBFILE=/etc/pointercal </summary>
<pre data-role="codeBlock" data-info="bash{.line-numbers}" class="language-bash bash line-numbers"><code>root@armadillo:~/tslib-1.22<span class="token comment"># export TSLIB_CALIBFILE=/etc/pointercal</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span></span></pre></details>
<h4 id="キャリブレーション">キャリブレーション </h4>
<details open=""><summary> root@armadillo:/usr/lib# TSLIB_TSDEVICE=/dev/input/event1 ts_calibrate </summary>
<pre data-role="codeBlock" data-info="bash{.line-numbers}" class="language-bash bash line-numbers"><code>root@armadillo:~<span class="token comment"># TSLIB_TSDEVICE=/dev/input/event1 ts_calibrate</span>
xres <span class="token operator">=</span> <span class="token number">800</span>, yres <span class="token operator">=</span> <span class="token number">480</span>
Took <span class="token number">1</span> samples<span class="token punctuation">..</span>.
Top left <span class="token builtin class-name">:</span> X <span class="token operator">=</span>  <span class="token number">732</span> Y <span class="token operator">=</span>  <span class="token number">774</span>
Took <span class="token number">1</span> samples<span class="token punctuation">..</span>.
Top right <span class="token builtin class-name">:</span> X <span class="token operator">=</span> <span class="token number">9565</span> Y <span class="token operator">=</span> <span class="token number">1128</span>
Took <span class="token number">1</span> samples<span class="token punctuation">..</span>.
Bot right <span class="token builtin class-name">:</span> X <span class="token operator">=</span> <span class="token number">9619</span> Y <span class="token operator">=</span> <span class="token number">9306</span>
Took <span class="token number">1</span> samples<span class="token punctuation">..</span>.
Bot left <span class="token builtin class-name">:</span> X <span class="token operator">=</span>  <span class="token number">766</span> Y <span class="token operator">=</span> <span class="token number">9069</span>
Took <span class="token number">1</span> samples<span class="token punctuation">..</span>.
Center <span class="token builtin class-name">:</span> X <span class="token operator">=</span> <span class="token number">4984</span> Y <span class="token operator">=</span> <span class="token number">5387</span>
<span class="token parameter variable">-4.377563</span> <span class="token number">0.079142</span> <span class="token parameter variable">-0.000365</span>
<span class="token number">11.211487</span> <span class="token parameter variable">-0.001511</span> <span class="token number">0.046085</span>
Calibration constants: <span class="token parameter variable">-286888</span> <span class="token number">5186</span> <span class="token parameter variable">-23</span> <span class="token number">734756</span> <span class="token parameter variable">-99</span> <span class="token number">3020</span> <span class="token number">65536</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></details>
<h4 id="キャリブレーション結果の確認">キャリブレーション結果の確認 </h4>
<details open=""><summary> root@armadillo:~/tslib-1.19# cat /etc/pointercal </summary>
<pre data-role="codeBlock" data-info="bash{.line-numbers}" class="language-bash bash line-numbers"><code>root@armadillo:~<span class="token comment"># cat /etc/pointercal</span>
<span class="token number">5186</span> <span class="token parameter variable">-23</span> <span class="token parameter variable">-286888</span> <span class="token parameter variable">-99</span> <span class="token number">3020</span> <span class="token number">734756</span> <span class="token number">65536</span> <span class="token number">800</span> <span class="token number">480</span> <span class="token number">0</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></pre></details>
<h4 id="キャリブレーションの様子">キャリブレーションの様子 </h4>
<details open=""><summary> キャリブレーションの様子 </summary>
<p><a href="https://youtu.be/k75Hq7tPMxE">https://youtu.be/k75Hq7tPMxE</a></p>
<p><video controls="" src="assets/20240711_tslib_caribration.mp4" title="Title" width="1024"></video></p>
</details>
<h4 id="tslib-インストールの様子">tslib インストールの様子 </h4>
<details open=""><summary> tslib インストールの様子 </summary>
<p><a href="https://youtu.be/Qyp1aZJCSQ8">https://youtu.be/Qyp1aZJCSQ8</a></p>
<p><video controls="" src="assets/20240711_tslibのインストール.mp4" title="Title" width="1024"></video></p>
</details>
<h3 id="tslib-設定ファイル">tslib 設定ファイル </h3>
<ul>
<li>tslib は入力から出力までの一連の処理をフィルタという形で実行</li>
<li>設定ファイルに、フィルタモジュールの設定</li>
</ul>
<details open=""><summary> /etc/ts.conf（初期設定のまま） </summary>
<pre data-role="codeBlock" data-info="bash{.line-numbers}" class="language-bash bash line-numbers"><code>root@armadillo:~<span class="token comment"># cat /etc/ts.conf</span>
<span class="token comment"># Access plugins</span>
<span class="token comment">################</span>

<span class="token comment"># Uncomment if you wish to use the linux input layer event interface</span>
module_raw input

<span class="token comment"># For other driver modules, see the ts.conf man page</span>


<span class="token comment"># Filter plugins</span>
<span class="token comment">################</span>

<span class="token comment"># Uncomment if first or last samples are unreliable</span>
<span class="token comment"># module skip nhead=1 ntail=1</span>

<span class="token comment"># Uncomment if needed for devices that measure pressure</span>
module pthres <span class="token assign-left variable">pmin</span><span class="token operator">=</span><span class="token number">1</span>

<span class="token comment"># Uncomment if needed</span>
<span class="token comment"># module debounce drop_threshold=40</span>

<span class="token comment"># Uncomment if needed to filter spikes</span>
<span class="token comment"># module median depth=5</span>

<span class="token comment"># Uncomment to enable smoothing of fraction N/D</span>
<span class="token comment"># module iir N=6 D=10</span>

<span class="token comment"># Uncomment if needed</span>
<span class="token comment"># module lowpass factor=0.1 threshold=1</span>

<span class="token comment"># Uncomment if needed to filter noise samples</span>
module dejitter <span class="token assign-left variable">delta</span><span class="token operator">=</span><span class="token number">100</span>

<span class="token comment"># Uncomment and adjust if you need to invert an axis or both</span>
<span class="token comment"># module invert x0=800 y0=480</span>

<span class="token comment"># Uncomment to use ts_calibrate's settings</span>
module linear
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></details>
<table>
<thead>
<tr>
<th>項目</th>
<th>コメント</th>
</tr>
</thead>
<tbody>
<tr>
<td>module_raw input</td>
<td>use the linux input layer event interface</td>
</tr>
<tr>
<td>module pthres pmin=1</td>
<td>devices that measure pressure</td>
</tr>
<tr>
<td>module dejitter delta=100</td>
<td>filter noise samples</td>
</tr>
<tr>
<td>module linear</td>
<td>use ts_calibrate's settings</td>
</tr>
</tbody>
</table>
<p>linear が座標変換モジュール<br>
linear が座標変換モジュールを利用するには、キャリブレーションが必要</p>
<h4 id="tslib-が用意しているプログラム">tslib が用意しているプログラム </h4>
<details open=""><summary> root@armadillo:/practice/09.touchpanel# ts </summary>
<pre data-role="codeBlock" data-info="bash{.line-numbers}" class="language-bash bash line-numbers"><code>root@armadillo:/practice/09.touchpanel<span class="token comment"># ts</span>
ts_calibrate  ts_harvest    ts_print_raw  ts_uinput     <span class="token function">tsort</span>
ts_conf       ts_print      ts_test       ts_verify
ts_finddev    ts_print_mt   ts_test_mt    tset
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></pre></details>
<details open=""><summary> /etc/pointercal </summary>
<pre data-role="codeBlock" data-info="bash{.line-numbers}" class="language-bash bash line-numbers"><code>root@armadillo:/practice/09.touchpanel<span class="token comment"># cat /etc/pointercal</span>
<span class="token number">5052</span> <span class="token number">63</span> <span class="token number">220156</span> <span class="token parameter variable">-30</span> <span class="token number">2969</span> <span class="token number">799232</span> <span class="token number">65536</span> <span class="token number">800</span> <span class="token number">480</span> <span class="token number">0</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></pre></details>
<h3 id="tslib-の利用方法">tslib の利用方法 </h3>
<p>以下のオプションを Makefile に追加</p>
<ul>
<li>-I/work/linux/nfsroot/usr/<span style="color: red">local</span>/include</li>
<li>-L/work/linux/nfsroot/usr/<span style="color: red">local</span>/lib</li>
<li>-lts (小文字のエル)</li>
</ul>
<h3 id="tslib-ライブラリ関数">tslib ライブラリ関数 </h3>
<p><a href="https://ftp.jaist.ac.jp/debian/pool/main/t/tslib/">tslib_1.22.orig.tar.xz のダウンロード</a></p>
<h4 id="tslibが提供する主なライブラリ関数">tslibが提供する主なライブラリ関数 </h4>
<table>
<thead>
<tr>
<th>function</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td>ts_open()</td>
<td>タッチパネルデバイスをオープン</td>
</tr>
<tr>
<td>ts_config()</td>
<td>設定ファイルを読込む</td>
</tr>
<tr>
<td>ts_read()</td>
<td>イベントを取得</td>
</tr>
<tr>
<td>ts_close()</td>
<td>タッチパネルデバイスをクローズ</td>
</tr>
</tbody>
</table>
<h4 id="ts_open">ts_open() </h4>
<p><a href="https://manpages.debian.org/unstable/libts0/ts_open.3.en.html">tslib/src/ts_open.c</a></p>
<table>
<thead>
<tr>

<th colspan="2">struct tsdev *ts_open(const char *dev_name, int nonblock)</th>
</tr>
</thead>
<tbody>
<tr>
<td>arg1</td>
<td>デバイスファイル名</td>
</tr>
<tr>
<td rowspan="2">arg2</td>
<td>0: イベント発生するまでブロック</td>
</tr>
<tr>

<td>1: ブロックしない</td>
</tr>
<tr>
<td rowspan="2">戻り値</td>
<td>成功: tsdev構造体アドレス</td>
</tr>
<tr>

<td>失敗: NULL</td>
</tr>
</tbody>
</table>
<h4 id="ts_config">ts_config() </h4>
<p><a href="https://manpages.debian.org/unstable/libts0/ts_config.3.en.html">tslib/src/ts_config.c</a></p>
<table>
<thead>
<tr>

<th colspan="2">int ts_config(struct tsdev *ts)</th>
</tr>
</thead>
<tbody>
<tr>
<td>arg1</td>
<td>tsdev構造体(ts_open関数の戻り値)</td>
</tr>
<tr>
<td rowspan="2">戻り値</td>
<td>成功: 0</td>
</tr>
<tr>

<td>失敗: -1</td>
</tr>
</tbody>
</table>
<h4 id="ts_read">ts_read() </h4>
<p><a href="https://manpages.debian.org/unstable/libts0/ts_read.3.en.html">tslib/src/ts_read.c</a></p>
<table>
<thead>
<tr>

<th colspan="2">int ts_read(struct tsdev *ts, struct ts_sample *samp, int nr)</th>
</tr>
</thead>
<tbody>
<tr>
<td>arg1</td>
<td>tsdev構造体(ts_open関数の戻り値)</td>
</tr>
<tr>
<td>arg2</td>
<td>ts_sample構造体</td>
</tr>
<tr>
<td>arg3</td>
<td>取得するイベント数</td>
</tr>
<tr>
<td rowspan="2">戻り値</td>
<td>成功: 取得したイベント数</td>
</tr>
<tr>

<td>失敗: -1</td>
</tr>
</tbody>
</table>
<h5 id="ts_sample構造体">ts_sample構造体 </h5>
<table>
<thead>
<tr>

<th colspan="2">struct ts_sample</th>
</tr>
</thead>
<tbody>
<tr>
<td>int x</td>
<td>X座標</td>
</tr>
<tr>
<td>int y</td>
<td>Y座標</td>
</tr>
<tr>
<td>unsigned int pressure</td>
<td>圧力</td>
</tr>
<tr>
<td>struct timeval tv</td>
<td>サンプル取得時刻</td>
</tr>
</tbody>
</table>
<h4 id="ts_close">ts_close() </h4>
<p><a href="https://manpages.debian.org/unstable/libts0/ts_close.3.en.html">tslib/src/ts_close.c</a></p>
<table>
<thead>
<tr>

<th colspan="2">int ts_close(struct tsdev *ts)</th>
</tr>
</thead>
<tbody>
<tr>
<td>arg1</td>
<td>tsdev構造体(ts_open関数の戻り値)</td>
</tr>
<tr>
<td rowspan="2">戻り値</td>
<td>成功: 0</td>
</tr>
<tr>

<td>失敗: -1</td>
</tr>
</tbody>
</table>
<h3 id="参考サイト">参考サイト </h3>
<ul>
<li>
<p><a href="https://armadillo.atmark-techno.com/blog/750/737">Armadillo-840でtslibを使う方法</a></p>
</li>
<li>
<p><a href="https://armadillo.atmark-techno.com/forum/armadillo/14652">Qt タッチパネル操作</a></p>
</li>
</ul>
<h2 id="課題1-tpevent2">課題1 tpevent2 </h2>
<p>tslib を利用したタッチパネルイベントを表示する</p>
<table>
<thead>
<tr>
<th>イベント</th>
<th>表示する文字列</th>
<th>備考</th>
</tr>
</thead>
<tbody>
<tr>
<td>発生時</td>
<td>”x: XXX y: YYY p:PPP”</td>
<td>XXX, YYY は座標、PPPは圧力</td>
</tr>
</tbody>
</table>
<h4 id="表示例-1">表示例 </h4>
<details open=""><summary> </summary>
<pre data-role="codeBlock" data-info="bash{.line-numbers}" class="language-bash bash line-numbers"><code>root@armadillo:/practice/09.touchpanel<span class="token comment"># ./tpevent2</span>
x:     <span class="token number">8</span> y:    <span class="token number">52</span> p:   <span class="token number">255</span>
x:     <span class="token number">8</span> y:    <span class="token number">52</span> p:     <span class="token number">0</span>
x:     <span class="token number">9</span> y:   <span class="token number">463</span> p:   <span class="token number">255</span>
x:     <span class="token number">9</span> y:   <span class="token number">463</span> p:     <span class="token number">0</span>
x:   <span class="token number">785</span> y:   <span class="token number">471</span> p:   <span class="token number">255</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></details>
<h3 id="ソース-1">ソース </h3>
<h4 id="tpevent2c">tpevent2.c </h4>
<details open=""><summary> 09.touchpanel/tpevent2.c </summary>
<pre data-role="codeBlock" data-info="c{.line-numbers}" class="language-c c line-numbers"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;fcntl.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;tslib.h&gt;</span></span>

<span class="token comment">// イベントデバイスファイル。</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span>	<span class="token macro-name">DEVFILE</span>	<span class="token string">"/dev/input/event1"</span></span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword keyword-int">int</span> ret<span class="token punctuation">;</span>
	<span class="token keyword keyword-struct">struct</span> <span class="token class-name">tsdev</span> <span class="token operator">*</span>ts<span class="token punctuation">;</span>
	<span class="token keyword keyword-struct">struct</span> <span class="token class-name">ts_sample</span> samp<span class="token punctuation">;</span>

	<span class="token comment">// タッチパネルデバイスをオープンします。(tslib使用)</span>
	ts <span class="token operator">=</span> <span class="token function">XXXXX</span><span class="token punctuation">(</span>XXXXX<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// ファイルがオープンできなかった場合、エラー終了します。</span>
	<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>ts<span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"ts_open"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword keyword-return">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// 設定ファイルを読み込みます。(tslib使用)</span>
	ret <span class="token operator">=</span> <span class="token function">XXXXX</span><span class="token punctuation">(</span>XXXXX<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 設定ファイルが読み込めなかった場合、エラー終了します。</span>
	<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>ret<span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"ts_config"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword keyword-return">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// イベント内容を表示する処理。(tslib使用)</span>
	<span class="token keyword keyword-for">for</span><span class="token punctuation">(</span><span class="token punctuation">;</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token comment">// イベントを取得します。</span>
		ret <span class="token operator">=</span> <span class="token function">XXXXX</span><span class="token punctuation">(</span>XXXXX<span class="token punctuation">,</span> XXXXX<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// イベントを取得できなかった場合、エラー終了します。</span>
		<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>ret <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"ts_read"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword keyword-return">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// 取得したイベント数が1でないなら処理を繰り返します。</span>
		<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>ret <span class="token operator">!=</span> <span class="token number">1</span><span class="token punctuation">)</span>
			<span class="token keyword keyword-continue">continue</span><span class="token punctuation">;</span>

		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"x:%6d y:%6d p:%6d\n"</span><span class="token punctuation">,</span> XXXXX<span class="token punctuation">,</span> XXXXX<span class="token punctuation">,</span> XXXXX<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// タッチパネルデバイスをクローズします。(tslib使用)</span>
	<span class="token function">XXXXX</span><span class="token punctuation">(</span>ts<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></details>
<h4 id="makefile-1">Makefile </h4>
<div class="admonition warning">
<p class="admonition-title">-I/work/linux/nfsroot/usr/<span style="color: red">local</span>/include</p>
</div>
<div class="admonition warning">
<p class="admonition-title">-L/work/linux/nfsroot/usr/<span style="color: red">local</span>/lib</p>
</div>
<details open=""><summary> 09.touchpanel/Makefile </summary>
<pre data-role="codeBlock" data-info="bash{.line-numbers}" class="language-bash bash line-numbers"><code>CC <span class="token operator">=</span> arm-linux-gnueabihf-gcc
<span class="token comment">#TARGET = tpevent tpevent2 tpstamp</span>
TARGET <span class="token operator">=</span> tpevent2
CFLAGS <span class="token operator">=</span> -I/work/linux/nfsroot/usr/local/include -gdwarf-2 <span class="token parameter variable">-O0</span>
LDFLAGS <span class="token operator">=</span> -L/work/linux/nfsroot/usr/local/lib
LIBS <span class="token operator">=</span> <span class="token parameter variable">-lts</span>

all: <span class="token variable"><span class="token variable">$(</span>TARGET<span class="token variable">)</span></span>

tpevent: tpevent.c
	<span class="token variable"><span class="token variable">$(</span>CC<span class="token variable">)</span></span> <span class="token parameter variable">-o</span> <span class="token variable">$@</span> $^ <span class="token variable"><span class="token variable">$(</span>CFLAGS<span class="token variable">)</span></span> <span class="token variable"><span class="token variable">$(</span>LDFLAGS<span class="token variable">)</span></span> <span class="token variable"><span class="token variable">$(</span>LIBS<span class="token variable">)</span></span>

tpevent2: tpevent2.c
	<span class="token variable"><span class="token variable">$(</span>CC<span class="token variable">)</span></span> <span class="token parameter variable">-o</span> <span class="token variable">$@</span> $^ <span class="token variable"><span class="token variable">$(</span>CFLAGS<span class="token variable">)</span></span> <span class="token variable"><span class="token variable">$(</span>LDFLAGS<span class="token variable">)</span></span> <span class="token variable"><span class="token variable">$(</span>LIBS<span class="token variable">)</span></span>

tpstamp: tpstamp.c
	<span class="token variable"><span class="token variable">$(</span>CC<span class="token variable">)</span></span> <span class="token parameter variable">-o</span> <span class="token variable">$@</span> $^ <span class="token variable"><span class="token variable">$(</span>CFLAGS<span class="token variable">)</span></span> <span class="token variable"><span class="token variable">$(</span>LDFLAGS<span class="token variable">)</span></span> <span class="token variable"><span class="token variable">$(</span>LIBS<span class="token variable">)</span></span>

<span class="token function">install</span> <span class="token builtin class-name">:</span>
	<span class="token function">cp</span> <span class="token parameter variable">-p</span> <span class="token variable"><span class="token variable">$(</span>TARGET<span class="token variable">)</span></span>   /work/linux/nfsroot/debug/04_practice
	<span class="token function">cp</span> <span class="token parameter variable">-p</span> <span class="token variable"><span class="token variable">$(</span>TARGET<span class="token variable">)</span></span>   /media/sf_ArmadilloX1/hwpwm/dbg/debug_share_hwpwm/R06_2024/04_practice
	<span class="token function">cp</span> <span class="token parameter variable">-p</span> <span class="token variable"><span class="token variable">$(</span>TARGET<span class="token variable">)</span></span>.c /media/sf_ArmadilloX1/hwpwm/dbg/debug_share_hwpwm/R06_2024/04_practice
	<span class="token function">cp</span> <span class="token parameter variable">-p</span> ./*.bmp     /work/linux/nfsroot/debug/04_practice
	<span class="token function">cp</span> <span class="token parameter variable">-p</span> ./*.bmp     /media/sf_ArmadilloX1/hwpwm/dbg/debug_share_hwpwm/R06_2024/04_practice

clean:
	<span class="token function">rm</span> <span class="token parameter variable">-f</span> <span class="token variable"><span class="token variable">$(</span>TARGET<span class="token variable">)</span></span>

.PHONY: clean

</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></details>
<h3 id="動作確認-1">動作確認 </h3>
<h4 id="make-clean-1">make clean </h4>
<details open=""><summary> $ make clean </summary>
<pre data-role="codeBlock" data-info="bash{.line-numbers}" class="language-bash bash line-numbers"><code>atmark@atde8:/media/sf_ArmadilloX1/hwpwm/work/R06_2024/Application_debug/text/practice-example/09.touchpanel$ <span class="token function">make</span> clean
<span class="token function">rm</span> <span class="token parameter variable">-f</span> tpevent2
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></pre></details>
<h4 id="make-2">make </h4>
<details open=""><summary> $ make </summary>
<pre data-role="codeBlock" data-info="bash{.line-numbers}" class="language-bash bash line-numbers"><code>atmark@atde8:/media/sf_ArmadilloX1/hwpwm/work/R06_2024/Application_debug/text/practice-example/09.touchpanel$ <span class="token function">make</span>
arm-linux-gnueabihf-gcc <span class="token parameter variable">-o</span> tpevent2 tpevent2.c -I/work/linux/nfsroot/usr/local/include -gdwarf-2 <span class="token parameter variable">-O0</span> -L/work/linux/nfsroot/usr/local/lib <span class="token parameter variable">-lts</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></pre></details>
<h4 id="sudo-make-install-1">sudo make install </h4>
<details open=""><summary> $ sudo make install </summary>
<pre data-role="codeBlock" data-info="bash{.line-numbers}" class="language-bash bash line-numbers"><code>atmark@atde8:/media/sf_ArmadilloX1/hwpwm/work/R06_2024/Application_debug/text/practice-example/09.touchpanel$ <span class="token function">sudo</span> <span class="token function">make</span> <span class="token function">install</span>
<span class="token punctuation">[</span>sudo<span class="token punctuation">]</span> atmark のパスワード:
<span class="token function">cp</span> <span class="token parameter variable">-p</span> tpevent2   /work/linux/nfsroot/debug/04_practice
<span class="token function">cp</span> <span class="token parameter variable">-p</span> tpevent2   /media/sf_ArmadilloX1/hwpwm/dbg/debug_share_hwpwm/R06_2024/04_practice
<span class="token function">cp</span> <span class="token parameter variable">-p</span> tpevent2.c /media/sf_ArmadilloX1/hwpwm/dbg/debug_share_hwpwm/R06_2024/04_practice
<span class="token function">cp</span> <span class="token parameter variable">-p</span> ./*.bmp     /work/linux/nfsroot/debug/04_practice
<span class="token function">cp</span> <span class="token parameter variable">-p</span> ./*.bmp     /media/sf_ArmadilloX1/hwpwm/dbg/debug_share_hwpwm/R06_2024/04_practice
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></details>
<h4 id="csideでロード-1">CSIDEでロード </h4>
<details open=""><summary> メニュー「ファイル」-「ロード」</summary>
<p><img src="assets/2024-07-11_20-46-31.png" alt="alt text"></p>
</details>
<h4 id="キャリブレーション割愛">キャリブレーション（割愛） </h4>
<h4 id="実行">実行 </h4>
<details open=""><summary> root@armadillo:/debug/04_practice# ./tpevent2 </summary>
<pre data-role="codeBlock" data-info="bash{.line-numbers}" class="language-bash bash line-numbers"><code>root@armadillo:/debug/04_practice<span class="token comment"># ./tpevent2</span>
x:    <span class="token number">18</span> y:    <span class="token number">11</span> p:   <span class="token number">255</span>
x:    <span class="token number">18</span> y:    <span class="token number">11</span> p:     <span class="token number">0</span>
x:   <span class="token number">777</span> y:    <span class="token number">10</span> p:   <span class="token number">255</span>
x:   <span class="token number">777</span> y:    <span class="token number">10</span> p:     <span class="token number">0</span>
x:     <span class="token number">9</span> y:   <span class="token number">452</span> p:   <span class="token number">255</span>
x:     <span class="token number">9</span> y:   <span class="token number">452</span> p:     <span class="token number">0</span>
x:   <span class="token number">786</span> y:   <span class="token number">452</span> p:   <span class="token number">255</span>
x:   <span class="token number">786</span> y:   <span class="token number">452</span> p:     <span class="token number">0</span>
x:   <span class="token number">786</span> y:   <span class="token number">452</span> p:   <span class="token number">255</span>
x:   <span class="token number">786</span> y:   <span class="token number">452</span> p:     <span class="token number">0</span>
x:   <span class="token number">786</span> y:   <span class="token number">452</span> p:   <span class="token number">255</span>
x:   <span class="token number">786</span> y:   <span class="token number">452</span> p:     <span class="token number">0</span>
x:   <span class="token number">786</span> y:   <span class="token number">452</span> p:   <span class="token number">255</span>
x:   <span class="token number">786</span> y:   <span class="token number">452</span> p:     <span class="token number">0</span>
x:   <span class="token number">786</span> y:   <span class="token number">452</span> p:   <span class="token number">255</span>
x:   <span class="token number">786</span> y:   <span class="token number">452</span> p:     <span class="token number">0</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></details>
<h4 id="実行している様子-1">実行している様子 </h4>
<details open=""><summary> tpevent2 を実行している様子 </summary>
<p><a href="https://youtu.be/FLKHKoy0Zwc">https://youtu.be/FLKHKoy0Zwc</a></p>
<p><video controls="" src="assets/20240711_tpevent2.mp4" title=" Title" width="1024"></video></p>
</details>
<h2 id="課題2-tpstamp">課題2 tpstamp </h2>
<p>パネル上をタッチした位置にビットマップ画像を表示</p>
<p><img src="assets/stamp.bmp" alt="alt text"></p>
<h3 id="ソース-2">ソース </h3>
<h4 id="tpstampc">tpstamp.c </h4>
<details open=""><summary> 09.touchpanel/tpstamp.c </summary>
<pre data-role="codeBlock" data-info="c{.line-numbers}" class="language-c c line-numbers"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;fcntl.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;sys/mman.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;tslib.h&gt;</span></span>

<span class="token comment">// イベントデバイスファイル。</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span>	<span class="token macro-name">DEV_FILE</span>	<span class="token string">"/dev/input/event1"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span>	<span class="token macro-name">IMG_FILE</span>	<span class="token string">"stamp.bmp"</span></span>

<span class="token comment">// LCDの情報。</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">SCREENWIDTH</span>		<span class="token expression"><span class="token number">800</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">SCREENHEIGHT</span>	<span class="token expression"><span class="token number">480</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">SCREENSIZE</span>	<span class="token expression"><span class="token punctuation">(</span>SCREENWIDTH <span class="token operator">*</span> SCREENHEIGHT <span class="token operator">*</span> <span class="token number">4</span><span class="token punctuation">)</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">RGB888</span><span class="token expression"><span class="token punctuation">(</span>r<span class="token punctuation">,</span> g<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token punctuation">(</span> r <span class="token operator">&lt;&lt;</span> <span class="token number">16</span> <span class="token operator">|</span> g  <span class="token operator">&lt;&lt;</span> <span class="token number">8</span> <span class="token operator">|</span> b<span class="token punctuation">)</span></span></span>


<span class="token comment">// ビットファイルヘッダ構造体の宣言。</span>
<span class="token keyword keyword-typedef">typedef</span> <span class="token keyword keyword-struct">struct</span> <span class="token class-name">tagBITMAPFILEHEADER</span><span class="token punctuation">{</span>
	<span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-short">short</span>	bfType<span class="token punctuation">;</span>
	<span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-long">long</span>	bfSize<span class="token punctuation">;</span>
	<span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-short">short</span>	bfReserved1<span class="token punctuation">;</span>
	<span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-short">short</span>	bfReserved2<span class="token punctuation">;</span>
	<span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-long">long</span>	bfOffBits<span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword keyword-__attribute__">__attribute__</span><span class="token punctuation">(</span><span class="token punctuation">(</span>packed<span class="token punctuation">)</span><span class="token punctuation">)</span> BITMAPFILEHEADER<span class="token punctuation">;</span>

<span class="token comment">// ビットマップ情報ヘッダ構造体の宣言。</span>
<span class="token keyword keyword-typedef">typedef</span> <span class="token keyword keyword-struct">struct</span> <span class="token class-name">tagBITMAPINFOHEADER</span><span class="token punctuation">{</span>
	<span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-long">long</span>	biSize<span class="token punctuation">;</span>
	<span class="token keyword keyword-long">long</span>		biWidth<span class="token punctuation">;</span>
	<span class="token keyword keyword-long">long</span>		biHeight<span class="token punctuation">;</span>
	<span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-short">short</span>	biPlanes<span class="token punctuation">;</span>
	<span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-short">short</span>	biBitCount<span class="token punctuation">;</span>
	<span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-long">long</span>	biCompression<span class="token punctuation">;</span>
	<span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-long">long</span>	biSizeImage<span class="token punctuation">;</span>
	<span class="token keyword keyword-long">long</span>		biXPixPerMeter<span class="token punctuation">;</span>
	<span class="token keyword keyword-long">long</span>		biYPixPerMeter<span class="token punctuation">;</span>
	<span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-long">long</span>	biClrUsed<span class="token punctuation">;</span>
	<span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-long">long</span>	biClrImporant<span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword keyword-__attribute__">__attribute__</span><span class="token punctuation">(</span><span class="token punctuation">(</span>packed<span class="token punctuation">)</span><span class="token punctuation">)</span> BITMAPINFOHEADER<span class="token punctuation">;</span>

<span class="token comment">// ビットマップ画像を描画する処理。</span>
<span class="token comment">// PFB：フレームバッファへのポインタ</span>
<span class="token comment">// bmpdata：画像データへのポインタ</span>
<span class="token comment">// w：画像の幅</span>
<span class="token comment">// h：画像の高さ</span>
<span class="token comment">// x：は、画像のx座標</span>
<span class="token comment">// Y：画像のy座標</span>
<span class="token comment">//</span>
<span class="token keyword keyword-void">void</span> <span class="token function">draw_bmp</span><span class="token punctuation">(</span><span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-int">int</span> <span class="token operator">*</span>pfb<span class="token punctuation">,</span> <span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-char">char</span> <span class="token operator">*</span>bmpdata<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> w<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> h<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> y<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword keyword-int">int</span> x0 <span class="token operator">=</span> x<span class="token punctuation">;</span>
	<span class="token keyword keyword-int">int</span> x1 <span class="token operator">=</span> x0 <span class="token operator">+</span> w<span class="token punctuation">;</span>
	<span class="token keyword keyword-int">int</span> y0 <span class="token operator">=</span> y<span class="token punctuation">;</span>
	<span class="token keyword keyword-int">int</span> y1 <span class="token operator">=</span> y0 <span class="token operator">+</span> h<span class="token punctuation">;</span>
	<span class="token keyword keyword-int">int</span> padding <span class="token operator">=</span> w <span class="token operator">%</span> <span class="token number">4</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-int">int</span> c <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-char">char</span> r<span class="token punctuation">,</span> g<span class="token punctuation">,</span> b<span class="token punctuation">;</span>
	<span class="token keyword keyword-int">int</span> xx<span class="token punctuation">,</span> yy<span class="token punctuation">;</span>

	<span class="token keyword keyword-for">for</span><span class="token punctuation">(</span>yy <span class="token operator">=</span> y1 <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> yy <span class="token operator">&gt;=</span> y0<span class="token punctuation">;</span> yy<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword keyword-for">for</span><span class="token punctuation">(</span>xx <span class="token operator">=</span> x0<span class="token punctuation">;</span> xx <span class="token operator">&lt;</span> x1<span class="token punctuation">;</span> xx<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			b <span class="token operator">=</span> bmpdata<span class="token punctuation">[</span>c<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
			g <span class="token operator">=</span> bmpdata<span class="token punctuation">[</span>c<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
			r <span class="token operator">=</span> bmpdata<span class="token punctuation">[</span>c<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>xx <span class="token operator">&gt;=</span><span class="token number">0</span> <span class="token operator">&amp;&amp;</span> xx <span class="token operator">&lt;</span> SCREENWIDTH
				<span class="token operator">&amp;&amp;</span> yy <span class="token operator">&gt;=</span><span class="token number">0</span> <span class="token operator">&amp;&amp;</span> yy <span class="token operator">&lt;</span> SCREENHEIGHT<span class="token punctuation">)</span>
				pfb<span class="token punctuation">[</span>yy <span class="token operator">*</span> SCREENWIDTH <span class="token operator">+</span> xx<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">RGB888</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span> g<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		c <span class="token operator">+=</span> padding<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> argc<span class="token punctuation">,</span> <span class="token keyword keyword-char">char</span> <span class="token operator">*</span><span class="token operator">*</span>argv<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword keyword-int">int</span> fd_in<span class="token punctuation">,</span> fd_fb<span class="token punctuation">;</span>
	<span class="token keyword keyword-int">int</span> ret<span class="token punctuation">;</span>
	<span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-int">int</span> <span class="token operator">*</span>pfb<span class="token punctuation">;</span>
	<span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-char">char</span> <span class="token operator">*</span>bmpdata<span class="token punctuation">;</span>
	<span class="token keyword keyword-int">int</span> datasize<span class="token punctuation">;</span>
	<span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span> y<span class="token punctuation">;</span>
	<span class="token keyword keyword-struct">struct</span> <span class="token class-name">tsdev</span> <span class="token operator">*</span>ts<span class="token punctuation">;</span>
	<span class="token keyword keyword-struct">struct</span> <span class="token class-name">ts_sample</span> samp<span class="token punctuation">;</span>
	<span class="token keyword keyword-int">int</span> enable <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-struct">struct</span> <span class="token class-name">bmpheader_t</span><span class="token punctuation">{</span>
		BITMAPFILEHEADER fh<span class="token punctuation">;</span>
		BITMAPINFOHEADER ih<span class="token punctuation">;</span>
	<span class="token punctuation">}</span> bmp<span class="token punctuation">;</span>

	<span class="token comment">// イメージファイルをオープンします。できなかった場合、エラー終了します。</span>
	<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>fd_in <span class="token operator">=</span> <span class="token function">open</span><span class="token punctuation">(</span>IMG_FILE<span class="token punctuation">,</span> O_RDONLY<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"open(file)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword keyword-return">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// イメージファイルのヘッダ情報を読み込みます。できなかった場合、エラー終了します。</span>
	<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token function">read</span><span class="token punctuation">(</span>fd_in<span class="token punctuation">,</span> <span class="token operator">&amp;</span>bmp<span class="token punctuation">,</span> <span class="token keyword keyword-sizeof">sizeof</span><span class="token punctuation">(</span>bmp<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword keyword-sizeof">sizeof</span><span class="token punctuation">(</span>bmp<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"read(file)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword keyword-return">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// 読み込んだイメージファイルがビットマップ形式と異なったり、</span>
	<span class="token comment">// ファイルサイズなどが想定と異なる場合、エラー終了します。</span>
	<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>bmp<span class="token punctuation">.</span>fh<span class="token punctuation">.</span>bfType <span class="token operator">!=</span> <span class="token number">0x4d42</span> <span class="token operator">||</span> bmp<span class="token punctuation">.</span>ih<span class="token punctuation">.</span>biBitCount <span class="token operator">!=</span> <span class="token number">24</span>
		<span class="token operator">||</span> bmp<span class="token punctuation">.</span>ih<span class="token punctuation">.</span>biCompression <span class="token operator">!=</span> <span class="token number">0</span> <span class="token operator">||</span> bmp<span class="token punctuation">.</span>ih<span class="token punctuation">.</span>biHeight <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token function">fprintf</span><span class="token punctuation">(</span><span class="token constant">stderr</span><span class="token punctuation">,</span> <span class="token string">"unsupported bitmap format\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword keyword-return">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// 読み込んだイメージファイルの画像の幅と高さが設定値と異なる場合、エラー終了します。</span>
	<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>bmp<span class="token punctuation">.</span>ih<span class="token punctuation">.</span>biWidth <span class="token operator">&gt;</span> SCREENWIDTH <span class="token operator">||</span> bmp<span class="token punctuation">.</span>ih<span class="token punctuation">.</span>biHeight <span class="token operator">&gt;</span> SCREENHEIGHT<span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token function">fprintf</span><span class="token punctuation">(</span><span class="token constant">stderr</span><span class="token punctuation">,</span> <span class="token string">"image size too big\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword keyword-return">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// 読み込んだイメージファイルのヘッダをなくしたサイズを計算します。</span>
	datasize <span class="token operator">=</span> bmp<span class="token punctuation">.</span>fh<span class="token punctuation">.</span>bfSize <span class="token operator">-</span> <span class="token keyword keyword-sizeof">sizeof</span><span class="token punctuation">(</span>bmp<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 計算したサイズで動的にメモリを確保します。できなかった場合、エラー終了します。</span>
	<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>bmpdata <span class="token operator">=</span> <span class="token function">malloc</span><span class="token punctuation">(</span>datasize<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"malloc"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword keyword-return">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// イメージファイルをヘッダをなくしたサイズで読み込みます。</span>
	<span class="token comment">// できなかった場合、確保したメモリを開放し、エラー終了します。</span>
	<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token function">read</span><span class="token punctuation">(</span>fd_in<span class="token punctuation">,</span> bmpdata<span class="token punctuation">,</span> datasize<span class="token punctuation">)</span> <span class="token operator">!=</span> datasize<span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"read(file)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">free</span><span class="token punctuation">(</span>bmpdata<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword keyword-return">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// イメージファイルをクローズします。</span>
	<span class="token function">close</span><span class="token punctuation">(</span>fd_in<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// タッチパネルデバイスをオープンします。(tslib使用)</span>
	ts <span class="token operator">=</span> <span class="token function">ts_open</span><span class="token punctuation">(</span>DEV_FILE<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// ファイルがオープンできなかった場合、エラー終了します。</span>
	<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>ts<span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"ts_open"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword keyword-return">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// 設定ファイルを読み込みます。(tslib使用)</span>
	ret <span class="token operator">=</span> <span class="token function">ts_config</span><span class="token punctuation">(</span>ts<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 設定ファイルが読み込めなかった場合、エラー終了します。</span>
	<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>ret<span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"ts_config"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword keyword-return">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// LCDデバイスファイルをオープンします。できなかった場合、エラー終了します。</span>
	<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>fd_fb <span class="token operator">=</span> <span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"/dev/fb0"</span><span class="token punctuation">,</span> O_RDWR<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"open(fb)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">free</span><span class="token punctuation">(</span>bmpdata<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword keyword-return">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// LCDデバイスファイルをメモリにマップします。できなかった場合、エラー終了します。</span>
	pfb <span class="token operator">=</span> <span class="token function">mmap</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> SCREENSIZE<span class="token punctuation">,</span> PROT_READ<span class="token operator">|</span>PROT_WRITE<span class="token punctuation">,</span> MAP_SHARED<span class="token punctuation">,</span> fd_fb<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>pfb <span class="token operator">==</span> MAP_FAILED<span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"mmap"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">free</span><span class="token punctuation">(</span>bmpdata<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword keyword-return">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// SCREENSIZE分だけ0xffでメモリ領域を埋め、初期化します。</span>
	<span class="token function">memset</span><span class="token punctuation">(</span>pfb<span class="token punctuation">,</span> <span class="token number">0xff</span><span class="token punctuation">,</span> SCREENSIZE<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// イベント内容を表示する処理。(tslib使用)</span>
	<span class="token keyword keyword-for">for</span><span class="token punctuation">(</span><span class="token punctuation">;</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token comment">// イベントを取得します。</span>
		ret <span class="token operator">=</span> <span class="token function">ts_read</span><span class="token punctuation">(</span>ts<span class="token punctuation">,</span> <span class="token operator">&amp;</span>samp<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// イベントを取得できなかった場合、エラー終了します。</span>
		<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>ret <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"ts_read"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword keyword-return">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// 取得したイベント数が1でないなら処理を繰り返します。</span>
		<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>ret <span class="token operator">!=</span> <span class="token number">1</span><span class="token punctuation">)</span>
			<span class="token keyword keyword-continue">continue</span><span class="token punctuation">;</span>

		<span class="token comment">// 次にタッチされたときビットマップ画像を描画するための処理をします。</span>
		<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>samp<span class="token punctuation">.</span>pressure <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			enable <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
			<span class="token keyword keyword-continue">continue</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// タッチされたときビットマップ画像を描画します。</span>
		<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>enable<span class="token punctuation">)</span><span class="token punctuation">{</span>
			<span class="token function">draw_bmp</span><span class="token punctuation">(</span>pfb<span class="token punctuation">,</span> bmpdata<span class="token punctuation">,</span> bmp<span class="token punctuation">.</span>ih<span class="token punctuation">.</span>biWidth<span class="token punctuation">,</span> bmp<span class="token punctuation">.</span>ih<span class="token punctuation">.</span>biHeight<span class="token punctuation">,</span> samp<span class="token punctuation">.</span>x <span class="token operator">-</span> bmp<span class="token punctuation">.</span>ih<span class="token punctuation">.</span>biWidth <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> samp<span class="token punctuation">.</span>y <span class="token operator">-</span> bmp<span class="token punctuation">.</span>ih<span class="token punctuation">.</span>biHeight <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			enable <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// タッチパネルデバイスをクローズします。</span>
	<span class="token function">ts_close</span><span class="token punctuation">(</span>ts<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// LCDデバイスファイルをメモリからアンマップします。</span>
	<span class="token function">munmap</span><span class="token punctuation">(</span>pfb<span class="token punctuation">,</span> SCREENSIZE<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// LCDデバイスファイルをクローズします。</span>
	<span class="token function">close</span><span class="token punctuation">(</span>fd_fb<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 確保したメモリを開放します。</span>
	<span class="token function">free</span><span class="token punctuation">(</span>bmpdata<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></details>
<h4 id="makefile-2">Makefile </h4>
<details open=""><summary> 09.touchpanel/Makefile </summary>
<pre data-role="codeBlock" data-info="bash{.line-numbers}" class="language-bash bash line-numbers"><code>CC <span class="token operator">=</span> arm-linux-gnueabihf-gcc
<span class="token comment">#TARGET = tpevent tpevent2 tpstamp</span>
TARGET <span class="token operator">=</span> tpstamp
CFLAGS <span class="token operator">=</span> -I/work/linux/nfsroot/usr/local/include -gdwarf-2 <span class="token parameter variable">-O0</span>
LDFLAGS <span class="token operator">=</span> -L/work/linux/nfsroot/usr/local/lib
LIBS <span class="token operator">=</span> <span class="token parameter variable">-lts</span>

all: <span class="token variable"><span class="token variable">$(</span>TARGET<span class="token variable">)</span></span>

tpevent: tpevent.c
	<span class="token variable"><span class="token variable">$(</span>CC<span class="token variable">)</span></span> <span class="token parameter variable">-o</span> <span class="token variable">$@</span> $^ <span class="token variable"><span class="token variable">$(</span>CFLAGS<span class="token variable">)</span></span> <span class="token variable"><span class="token variable">$(</span>LDFLAGS<span class="token variable">)</span></span> <span class="token variable"><span class="token variable">$(</span>LIBS<span class="token variable">)</span></span>

tpevent2: tpevent2.c
	<span class="token variable"><span class="token variable">$(</span>CC<span class="token variable">)</span></span> <span class="token parameter variable">-o</span> <span class="token variable">$@</span> $^ <span class="token variable"><span class="token variable">$(</span>CFLAGS<span class="token variable">)</span></span> <span class="token variable"><span class="token variable">$(</span>LDFLAGS<span class="token variable">)</span></span> <span class="token variable"><span class="token variable">$(</span>LIBS<span class="token variable">)</span></span>

tpstamp: tpstamp.c
	<span class="token variable"><span class="token variable">$(</span>CC<span class="token variable">)</span></span> <span class="token parameter variable">-o</span> <span class="token variable">$@</span> $^ <span class="token variable"><span class="token variable">$(</span>CFLAGS<span class="token variable">)</span></span> <span class="token variable"><span class="token variable">$(</span>LDFLAGS<span class="token variable">)</span></span> <span class="token variable"><span class="token variable">$(</span>LIBS<span class="token variable">)</span></span>

<span class="token function">install</span> <span class="token builtin class-name">:</span>
	<span class="token function">cp</span> <span class="token parameter variable">-p</span> <span class="token variable"><span class="token variable">$(</span>TARGET<span class="token variable">)</span></span>   /work/linux/nfsroot/debug/04_practice
	<span class="token function">cp</span> <span class="token parameter variable">-p</span> <span class="token variable"><span class="token variable">$(</span>TARGET<span class="token variable">)</span></span>   /media/sf_ArmadilloX1/hwpwm/dbg/debug_share_hwpwm/R06_2024/04_practice
	<span class="token function">cp</span> <span class="token parameter variable">-p</span> <span class="token variable"><span class="token variable">$(</span>TARGET<span class="token variable">)</span></span>.c /media/sf_ArmadilloX1/hwpwm/dbg/debug_share_hwpwm/R06_2024/04_practice
	<span class="token function">cp</span> <span class="token parameter variable">-p</span> ./*.bmp     /work/linux/nfsroot/debug/04_practice
	<span class="token function">cp</span> <span class="token parameter variable">-p</span> ./*.bmp     /media/sf_ArmadilloX1/hwpwm/dbg/debug_share_hwpwm/R06_2024/04_practice

clean:
	<span class="token function">rm</span> <span class="token parameter variable">-f</span> <span class="token variable"><span class="token variable">$(</span>TARGET<span class="token variable">)</span></span>

.PHONY: clean
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></details>
<h3 id="動作確認-2">動作確認 </h3>
<h4 id="make-clean-2">make clean </h4>
<details open=""><summary> $ make clean </summary>
<pre data-role="codeBlock" data-info="bash{.line-numbers}" class="language-bash bash line-numbers"><code>atmark@atde8:/media/sf_ArmadilloX1/hwpwm/work/R06_2024/Application_debug/text/practice-example/09.touchpanel$ <span class="token function">make</span> clean
<span class="token function">rm</span> <span class="token parameter variable">-f</span> tpstamp
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></pre></details>
<h4 id="make-3">make </h4>
<details open=""><summary> $ make </summary>
<pre data-role="codeBlock" data-info="bash{.line-numbers}" class="language-bash bash line-numbers"><code>atmark@atde8:/media/sf_ArmadilloX1/hwpwm/work/R06_2024/Application_debug/text/practice-example/09.touchpanel$ <span class="token function">make</span>
arm-linux-gnueabihf-gcc <span class="token parameter variable">-o</span> tpstamp tpstamp.c -I/work/linux/nfsroot/usr/local/include -gdwarf-2 <span class="token parameter variable">-O0</span> -L/work/linux/nfsroot/usr/local/lib <span class="token parameter variable">-lts</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></pre></details>
<h4 id="sudo-make-install-2">sudo make install </h4>
<details open=""><summary> $ sudo make install </summary>
<pre data-role="codeBlock" data-info="bash{.line-numbers}" class="language-bash bash line-numbers"><code>atmark@atde8:/media/sf_ArmadilloX1/hwpwm/work/R06_2024/Application_debug/text/practice-example/09.touchpanel$ <span class="token function">sudo</span> <span class="token function">make</span> <span class="token function">install</span>
<span class="token punctuation">[</span>sudo<span class="token punctuation">]</span> atmark のパスワード:
<span class="token function">cp</span> <span class="token parameter variable">-p</span> tpstamp   /work/linux/nfsroot/debug/04_practice
<span class="token function">cp</span> <span class="token parameter variable">-p</span> tpstamp   /media/sf_ArmadilloX1/hwpwm/dbg/debug_share_hwpwm/R06_2024/04_practice
<span class="token function">cp</span> <span class="token parameter variable">-p</span> tpstamp.c /media/sf_ArmadilloX1/hwpwm/dbg/debug_share_hwpwm/R06_2024/04_practice
<span class="token function">cp</span> <span class="token parameter variable">-p</span> ./*.bmp     /work/linux/nfsroot/debug/04_practice
<span class="token function">cp</span> <span class="token parameter variable">-p</span> ./*.bmp     /media/sf_ArmadilloX1/hwpwm/dbg/debug_share_hwpwm/R06_2024/04_practice
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></details>
<h4 id="csideでロード-2">CSIDEでロード </h4>
<details open=""><summary> メニュー「ファイル」-「ロード」</summary>
<p><img src="assets/2024-07-11_21-10-37.png" alt="alt text"></p>
</details>
<h4 id="キャリブレーション割愛-1">キャリブレーション（割愛） </h4>
<h4 id="実行-1">実行 </h4>
<details open=""><summary> root@armadillo:/debug/04_practice# ./tpstamp </summary>
<pre data-role="codeBlock" data-info="bash{.line-numbers}" class="language-bash bash line-numbers"><code>root@armadillo:/debug/04_practice<span class="token comment"># ./tpstamp</span>
^C
root@armadillo:/debug/04_practice<span class="token comment">#</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></pre></details>
<h4 id="実行している様子-2">実行している様子 </h4>
<details open=""><summary> tpstamp を実行している様子 </summary>
<p><a href="https://youtu.be/Wg5nwXQLsmw">https://youtu.be/Wg5nwXQLsmw</a></p>
<p><video controls="" src="assets/20240711_tpstamp.mp4" title="Title" width="1024"></video></p>
</details>

      </div>
      
      
    
    
    
    
    
    
  
    </body></html>